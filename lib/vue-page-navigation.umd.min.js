(function(n,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["vue-page-navigation"]=e():n["vue-page-navigation"]=e()})("undefined"!==typeof self?self:this,(function(){return function(n){var e={};function c(g){if(e[g])return e[g].exports;var I=e[g]={i:g,l:!1,exports:{}};return n[g].call(I.exports,I,I.exports,c),I.l=!0,I.exports}return c.m=n,c.c=e,c.d=function(n,e,g){c.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:g})},c.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},c.t=function(n,e){if(1&e&&(n=c(n)),8&e)return n;if(4&e&&"object"===typeof n&&n&&n.__esModule)return n;var g=Object.create(null);if(c.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var I in n)c.d(g,I,function(e){return n[e]}.bind(null,I));return g},c.n=function(n){var e=n&&n.__esModule?function(){return n["default"]}:function(){return n};return c.d(e,"a",e),e},c.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},c.p="",c(c.s="fb15")}({8875:function(module,exports,__webpack_require__){eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// addapted from the document.currentScript polyfill by Adam Miller\n// MIT license\n// source: https://github.com/amiller-gh/currentScript-polyfill\n\n// added support for Firefox https://bugzilla.mozilla.org/show_bug.cgi?id=1620505\n\n(function (root, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n}(typeof self !== 'undefined' ? self : this, function () {\n  function getCurrentScript () {\n    var descriptor = Object.getOwnPropertyDescriptor(document, 'currentScript')\n    // for chrome\n    if (!descriptor && 'currentScript' in document && document.currentScript) {\n      return document.currentScript\n    }\n\n    // for other browsers with native support for currentScript\n    if (descriptor && descriptor.get !== getCurrentScript && document.currentScript) {\n      return document.currentScript\n    }\n  \n    // IE 8-10 support script readyState\n    // IE 11+ & Firefox support stack trace\n    try {\n      throw new Error();\n    }\n    catch (err) {\n      // Find the second match for the \"at\" string to get file src url from stack.\n      var ieStackRegExp = /.*at [^(]*\\((.*):(.+):(.+)\\)$/ig,\n        ffStackRegExp = /@([^@]*):(\\d+):(\\d+)\\s*$/ig,\n        stackDetails = ieStackRegExp.exec(err.stack) || ffStackRegExp.exec(err.stack),\n        scriptLocation = (stackDetails && stackDetails[1]) || false,\n        line = (stackDetails && stackDetails[2]) || false,\n        currentLocation = document.location.href.replace(document.location.hash, ''),\n        pageSource,\n        inlineScriptSourceRegExp,\n        inlineScriptSource,\n        scripts = document.getElementsByTagName('script'); // Live NodeList collection\n  \n      if (scriptLocation === currentLocation) {\n        pageSource = document.documentElement.outerHTML;\n        inlineScriptSourceRegExp = new RegExp('(?:[^\\\\n]+?\\\\n){0,' + (line - 2) + '}[^<]*<script>([\\\\d\\\\D]*?)<\\\\/script>[\\\\d\\\\D]*', 'i');\n        inlineScriptSource = pageSource.replace(inlineScriptSourceRegExp, '$1').trim();\n      }\n  \n      for (var i = 0; i < scripts.length; i++) {\n        // If ready state is interactive, return the script tag\n        if (scripts[i].readyState === 'interactive') {\n          return scripts[i];\n        }\n  \n        // If src matches, return the script tag\n        if (scripts[i].src === scriptLocation) {\n          return scripts[i];\n        }\n  \n        // If inline source matches, return the script tag\n        if (\n          scriptLocation === currentLocation &&\n          scripts[i].innerHTML &&\n          scripts[i].innerHTML.trim() === inlineScriptSource\n        ) {\n          return scripts[i];\n        }\n      }\n  \n      // If no match, return null\n      return null;\n    }\n  };\n\n  return getCurrentScript\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUtcGFnZS1uYXZpZ2F0aW9uLy4vbm9kZV9tb2R1bGVzL0Bzb2RhL2dldC1jdXJyZW50LXNjcmlwdC9pbmRleC5qcz84ODc1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLE1BQU0sSUFBMEM7QUFDaEQsSUFBSSxpQ0FBTyxFQUFFLG9DQUFFLE9BQU87QUFBQTtBQUFBO0FBQUEsb0dBQUM7QUFDdkIsR0FBRyxNQUFNLEVBSU47QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBEOztBQUUxRDtBQUNBO0FBQ0EsK0RBQStELHFCQUFxQjtBQUNwRjtBQUNBOztBQUVBLHFCQUFxQixvQkFBb0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQyIsImZpbGUiOiI4ODc1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gYWRkYXB0ZWQgZnJvbSB0aGUgZG9jdW1lbnQuY3VycmVudFNjcmlwdCBwb2x5ZmlsbCBieSBBZGFtIE1pbGxlclxuLy8gTUlUIGxpY2Vuc2Vcbi8vIHNvdXJjZTogaHR0cHM6Ly9naXRodWIuY29tL2FtaWxsZXItZ2gvY3VycmVudFNjcmlwdC1wb2x5ZmlsbFxuXG4vLyBhZGRlZCBzdXBwb3J0IGZvciBGaXJlZm94IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTE2MjA1MDVcblxuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gIH0gZWxzZSB7XG4gICAgcm9vdC5nZXRDdXJyZW50U2NyaXB0ID0gZmFjdG9yeSgpO1xuICB9XG59KHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGdldEN1cnJlbnRTY3JpcHQgKCkge1xuICAgIHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkb2N1bWVudCwgJ2N1cnJlbnRTY3JpcHQnKVxuICAgIC8vIGZvciBjaHJvbWVcbiAgICBpZiAoIWRlc2NyaXB0b3IgJiYgJ2N1cnJlbnRTY3JpcHQnIGluIGRvY3VtZW50ICYmIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpIHtcbiAgICAgIHJldHVybiBkb2N1bWVudC5jdXJyZW50U2NyaXB0XG4gICAgfVxuXG4gICAgLy8gZm9yIG90aGVyIGJyb3dzZXJzIHdpdGggbmF0aXZlIHN1cHBvcnQgZm9yIGN1cnJlbnRTY3JpcHRcbiAgICBpZiAoZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLmdldCAhPT0gZ2V0Q3VycmVudFNjcmlwdCAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0KSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQuY3VycmVudFNjcmlwdFxuICAgIH1cbiAgXG4gICAgLy8gSUUgOC0xMCBzdXBwb3J0IHNjcmlwdCByZWFkeVN0YXRlXG4gICAgLy8gSUUgMTErICYgRmlyZWZveCBzdXBwb3J0IHN0YWNrIHRyYWNlXG4gICAgdHJ5IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAvLyBGaW5kIHRoZSBzZWNvbmQgbWF0Y2ggZm9yIHRoZSBcImF0XCIgc3RyaW5nIHRvIGdldCBmaWxlIHNyYyB1cmwgZnJvbSBzdGFjay5cbiAgICAgIHZhciBpZVN0YWNrUmVnRXhwID0gLy4qYXQgW14oXSpcXCgoLiopOiguKyk6KC4rKVxcKSQvaWcsXG4gICAgICAgIGZmU3RhY2tSZWdFeHAgPSAvQChbXkBdKik6KFxcZCspOihcXGQrKVxccyokL2lnLFxuICAgICAgICBzdGFja0RldGFpbHMgPSBpZVN0YWNrUmVnRXhwLmV4ZWMoZXJyLnN0YWNrKSB8fCBmZlN0YWNrUmVnRXhwLmV4ZWMoZXJyLnN0YWNrKSxcbiAgICAgICAgc2NyaXB0TG9jYXRpb24gPSAoc3RhY2tEZXRhaWxzICYmIHN0YWNrRGV0YWlsc1sxXSkgfHwgZmFsc2UsXG4gICAgICAgIGxpbmUgPSAoc3RhY2tEZXRhaWxzICYmIHN0YWNrRGV0YWlsc1syXSkgfHwgZmFsc2UsXG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbiA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWYucmVwbGFjZShkb2N1bWVudC5sb2NhdGlvbi5oYXNoLCAnJyksXG4gICAgICAgIHBhZ2VTb3VyY2UsXG4gICAgICAgIGlubGluZVNjcmlwdFNvdXJjZVJlZ0V4cCxcbiAgICAgICAgaW5saW5lU2NyaXB0U291cmNlLFxuICAgICAgICBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpOyAvLyBMaXZlIE5vZGVMaXN0IGNvbGxlY3Rpb25cbiAgXG4gICAgICBpZiAoc2NyaXB0TG9jYXRpb24gPT09IGN1cnJlbnRMb2NhdGlvbikge1xuICAgICAgICBwYWdlU291cmNlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm91dGVySFRNTDtcbiAgICAgICAgaW5saW5lU2NyaXB0U291cmNlUmVnRXhwID0gbmV3IFJlZ0V4cCgnKD86W15cXFxcbl0rP1xcXFxuKXswLCcgKyAobGluZSAtIDIpICsgJ31bXjxdKjxzY3JpcHQ+KFtcXFxcZFxcXFxEXSo/KTxcXFxcL3NjcmlwdD5bXFxcXGRcXFxcRF0qJywgJ2knKTtcbiAgICAgICAgaW5saW5lU2NyaXB0U291cmNlID0gcGFnZVNvdXJjZS5yZXBsYWNlKGlubGluZVNjcmlwdFNvdXJjZVJlZ0V4cCwgJyQxJykudHJpbSgpO1xuICAgICAgfVxuICBcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2NyaXB0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBJZiByZWFkeSBzdGF0ZSBpcyBpbnRlcmFjdGl2ZSwgcmV0dXJuIHRoZSBzY3JpcHQgdGFnXG4gICAgICAgIGlmIChzY3JpcHRzW2ldLnJlYWR5U3RhdGUgPT09ICdpbnRlcmFjdGl2ZScpIHtcbiAgICAgICAgICByZXR1cm4gc2NyaXB0c1tpXTtcbiAgICAgICAgfVxuICBcbiAgICAgICAgLy8gSWYgc3JjIG1hdGNoZXMsIHJldHVybiB0aGUgc2NyaXB0IHRhZ1xuICAgICAgICBpZiAoc2NyaXB0c1tpXS5zcmMgPT09IHNjcmlwdExvY2F0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIHNjcmlwdHNbaV07XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC8vIElmIGlubGluZSBzb3VyY2UgbWF0Y2hlcywgcmV0dXJuIHRoZSBzY3JpcHQgdGFnXG4gICAgICAgIGlmIChcbiAgICAgICAgICBzY3JpcHRMb2NhdGlvbiA9PT0gY3VycmVudExvY2F0aW9uICYmXG4gICAgICAgICAgc2NyaXB0c1tpXS5pbm5lckhUTUwgJiZcbiAgICAgICAgICBzY3JpcHRzW2ldLmlubmVySFRNTC50cmltKCkgPT09IGlubGluZVNjcmlwdFNvdXJjZVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gc2NyaXB0c1tpXTtcbiAgICAgICAgfVxuICAgICAgfVxuICBcbiAgICAgIC8vIElmIG5vIG1hdGNoLCByZXR1cm4gbnVsbFxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBnZXRDdXJyZW50U2NyaXB0XG59KSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8875\n")},fb15:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js\n// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (true) {\n    var getCurrentScript = __webpack_require__(\"8875\")\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_require__.p = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\n/* harmony default export */ var setPublicPath = (null);\n\n// CONCATENATED MODULE: ./package/config.js\n\n/* harmony default export */ var config = ({\n  // 组件名称\n  componentName: 'VuePageNavigation',\n  // 路径参数key\n  keyName: 'PNK',\n  pushName: 'push',\n  goName: 'go',\n  replaceName: 'replace',\n  backName: 'back',\n  forwardName: 'forward'\n});\n\n// CONCATENATED MODULE: ./package/history.js\n\n\n/* harmony default export */ var package_history = ({\n  action: config.pushName,\n  // 路由跳转方向：forward || backward,\n  routerDirection: 'forward'\n});\n\n// CONCATENATED MODULE: ./package/util.js\n\n/**\n * Get the raw type string of a value, e.g., [object Object].\n */\nconst _toString = Object.prototype.toString;\n\nfunction isPlainObject (obj) {\n  return _toString.call(obj) === '[object Object]';\n}\n\nfunction isRegExp (v) {\n  return _toString.call(v) === '[object RegExp]';\n}\n\nfunction isDef (v) {\n  return v !== undefined && v !== null;\n}\n\n/**\n * 从数组中移除一个元素\n * @param {Array} arr\n * @param {Any} item\n * @returns {Any} 移除的元素\n */\nfunction remove (arr, item) {\n  if (Array.isArray(arr) && arr.length) {\n    const index = arr.indexOf(item);\n    if (index > -1) {\n      return arr.splice(index, 1);\n    }\n  }\n}\n\n/**\n * 从数组中移除一个元素，并以新元素替换\n * @param {Array} arr\n * @param {Any} item\n * @returns {Any} 移除的元素\n */\nfunction splice (arr, oldItem, newItem) {\n  if (Array.isArray(arr) && arr.length) {\n    const index = arr.indexOf(oldItem);\n    if (index > -1) {\n      return arr.splice(index, 1, newItem);\n    }\n  }\n}\n\n/**\n * 生成key\n * @param {String} tpl 生成模版--xy组成\n */\nfunction genKey (tpl = 'xxxxxxxx') {\n  return tpl.replace(/[xy]/g, function (c) {\n    let r = (Math.random() * 16) | 0;\n    let v = c === 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n\n/**\n * 对象中是否有key\n * @param {Object} obj 纯对象\n * @param {String} keyName key名称\n */\nfunction hasKey (obj, keyName) {\n  return !!obj[keyName];\n}\n\n// CONCATENATED MODULE: ./package/vue-page-navigation.js\n\n\n\n\n// 参考vue keepAlive组件写法\nfunction isAsyncPlaceholder (node) {\n  return node.isComment && node.asyncFactory;\n}\n// 参考vue keepAlive组件写法\nfunction getFirstComponentChild (children) {\n  if (Array.isArray(children)) {\n    for (let i = 0; i < children.length; i++) {\n      const c = children[i];\n      if (isDef(c) && (isDef(c.componentOptions) || isAsyncPlaceholder(c))) {\n        return c;\n      }\n    }\n  }\n}\n\nfunction getIndexByKey (keys, key) {\n  for (let index = 0; index < keys.length; index++) {\n    if (keys[index] === key) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nfunction getComponentName (opts) {\n  return opts && (opts.Ctor.options.name || opts.tag);\n}\n\n/**\n * 是否匹配\n * @param {*} pattern\n * @param {String} name 组件名称\n */\nfunction matches (pattern, name) {\n  if (Array.isArray(pattern)) {\n    return pattern.indexOf(name) > -1;\n  }\n  else if (typeof pattern === 'string') {\n    return pattern.split(',').indexOf(name) > -1;\n  }\n  else if (isRegExp(pattern)) {\n    return pattern.test(name);\n  }\n  return false;\n}\n\nfunction pruneCache (keepAliveInstance, filter) {\n  const { cache, keys } = keepAliveInstance;\n  for (const key in cache) {\n    const cachedNode = cache[key];\n    if (cachedNode) {\n      const name = getComponentName(cachedNode.componentOptions);\n      if (name && !filter(name)) {\n        pruneCacheEntry(cache, key, keys);\n      }\n    }\n  }\n}\n\nfunction pruneCacheEntry (cache, key, keys) {\n  if (!key) return;\n  const cached = cache[key];\n  if (cached) {\n    cached.componentInstance.$destroy();\n  }\n  cache[key] = null;\n  delete cache[key];\n  remove(keys, key);\n}\n\nconst patternTypes = [String, RegExp, Array];\n\nlet VuePageNavigation = keyName => {\n  return {\n    name: config.componentName,\n\n    abstract: true,\n\n    data () {\n      return {};\n    },\n\n    props: {\n      include: patternTypes,\n\n      exclude: patternTypes,\n\n      max: {\n        type: [String, Number],\n        default: 50\n      }\n    },\n\n    created () {\n      this.cache = Object.create(null);\n      this.keys = [];\n    },\n\n    destroyed () {\n      for (let key in this.cache) {\n        pruneCacheEntry(this.cache, key, this.keys);\n      }\n    },\n\n    mounted () {\n      this.$watch('include', (val) => {\n        pruneCache(this, (name) => matches(val, name));\n      });\n      this.$watch('exclude', (val) => {\n        pruneCache(this, (name) => !matches(val, name));\n      });\n    },\n\n    render () {\n      let key = this.$route.query[keyName];\n      const slot = this.$slots.default;\n      const vnode = getFirstComponentChild(slot);\n      const componentOptions = vnode && vnode.componentOptions;\n\n      if (componentOptions) {\n        const name = getComponentName(componentOptions);\n        const { include, exclude, cache, keys } = this;\n\n        // 如果匹配到不包含或者组件名称未提供，则直接返回vnode\n        if (!name || (exclude && matches(exclude, name))) {\n          return vnode;\n        }\n        else {\n          // 从缓存中匹配name，include的始终缓存\n          if (include && name && matches(include, name)) {\n            for (let cacheKey in cache) {\n              let _name = getComponentName(cache[cacheKey].componentOptions);\n              // 如果组件名称一致，那么替换缓存中的key\n              if (_name === name && key !== cacheKey) {\n                cache[key] = cache[cacheKey];\n                splice(keys, cacheKey, key);\n                delete cache[cacheKey];\n                break;\n              }\n            }\n          }\n\n          if (cache[key]) {\n            let index = getIndexByKey(keys, key);\n            vnode.componentInstance = cache[key].componentInstance;\n            // 删除当前key的索引之后的缓存\n            for (let i = keys.length - 1; i > index; i--) {\n              let _componentName = getComponentName(cache[keys[i]].componentOptions);\n              if (!matches(include, _componentName)) {\n                pruneCacheEntry(cache, keys[i], keys);\n              }\n            }\n          }\n          else {\n            if (package_history.action === config.replaceName) {\n              let _curKey = keys[keys.length - 1],\n                _name = getComponentName(cache[_curKey].componentOptions);\n              // replace：如果组件没变，仅替换缓存中的key\n              if (_name === name && key !== _curKey) {\n                cache[key] = cache[_curKey];\n                splice(keys, _curKey, key);\n                delete cache[_curKey];\n              }\n              else {\n                pruneCacheEntry(cache, keys[keys.length - 1], keys);\n                cache[key] = vnode;\n                keys.push(key);\n              }\n            }\n            else {\n              cache[key] = vnode;\n              keys.push(key);\n            }\n\n            // LRU：超出最大缓存数量，删除第一个\n            if (this.max && keys.length > parseInt(this.max)) {\n              pruneCacheEntry(cache, keys[0], keys);\n            }\n\n            // 删除多余缓存，例如：push:::A->B->C->B->C，那么当跳转到第二个B时，第一个B还在缓存状态\n            for (let cacheKey in cache) {\n              let _name = getComponentName(cache[cacheKey].componentOptions);\n              // 如果组件名称一致，那么替换缓存中的key\n              if (_name === name && key !== cacheKey) {\n                pruneCacheEntry(cache, cacheKey, keys);\n                break;\n              }\n            }\n          }\n        }\n\n        vnode.data.keepAlive = true;\n      }\n\n      return vnode;\n    }\n  };\n};\n\n\n\n// CONCATENATED MODULE: ./package/mixin.js\n/* 拦截路由跳转指令：重写 */\n\n\n\n/* harmony default export */ var mixin = (function (router) {\n  const routerPush = router.push.bind(router);\n  const routerGo = router.go.bind(router);\n  const routerReplace = router.replace.bind(router);\n  const routerBack = router.back.bind(router);\n  const routerForward = router.forward.bind(router);\n\n  router.push = (location, onResolve, onReject) => {\n    package_history.action = config.pushName;\n    package_history.routerDirection = 'forward';\n\n    if (onResolve || onReject) {\n      return routerPush(location, onResolve, onReject);\n    }\n    return routerPush(location).catch(error => error);\n  };\n\n  router.go = n => {\n    package_history.action = config.goName;\n    package_history.routerDirection = n > 0 ? 'forward' : 'backward';\n\n    routerGo(n);\n  };\n\n  router.replace = (location, onResolve, onReject) => {\n    package_history.action = config.replaceName;\n    package_history.routerDirection = 'forward';\n\n    if (onResolve || onReject) {\n      return routerReplace(location, onResolve, onReject);\n    }\n    return routerReplace(location).catch(error => error);\n  };\n\n  router.back = () => {\n    package_history.action = config.backName;\n    package_history.routerDirection = 'backward';\n\n    routerBack();\n  };\n\n  router.forward = () => {\n    package_history.action = config.forwardName;\n    package_history.routerDirection = 'forward';\n\n    routerForward();\n  };\n});;\n\n// CONCATENATED MODULE: ./package/index.js\n\n\n\n\n\n\nconst VuePageNavigationPlugin = {\n  install  (Vue, { router, name = config.componentName, keyName = config.keyName }) {\n    if (!router) {\n      throw Error('\\n vue-router is necessary. \\n\\n');\n    }\n    Vue.component(name, VuePageNavigation(keyName));\n\n    mixin(router);\n\n    function beforeEach (to, from, next) {\n      if (!hasKey(to.query, keyName)) {\n        to.query[keyName] = genKey();\n        let replace = package_history.action === config.replaceName || !hasKey(from.query, keyName);\n        next({\n          hash: to.hash,\n          path: to.path,\n          name: to.name,\n          params: to.params,\n          query: to.query,\n          meta: to.meta,\n          replace: replace\n        });\n      }\n      else {\n        to.params[keyName + 'Direction'] = package_history.routerDirection;\n        next({ params: to.params });\n      }\n    }\n\n    // 确保它是第一个router拦截：beforeEach\n    router.beforeHooks.unshift(beforeEach);\n  }\n};\n\n/* harmony default export */ var package_0 = (VuePageNavigationPlugin);\n\n// CONCATENATED MODULE: ./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js\n\n\n/* harmony default export */ var entry_lib = __webpack_exports__[\"default\"] = (package_0);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUtcGFnZS1uYXZpZ2F0aW9uLy4vbm9kZV9tb2R1bGVzL0B2dWUvY2xpLXNlcnZpY2UvbGliL2NvbW1hbmRzL2J1aWxkL3NldFB1YmxpY1BhdGguanM/MWViMiIsIndlYnBhY2s6Ly92dWUtcGFnZS1uYXZpZ2F0aW9uLy4vcGFja2FnZS9jb25maWcuanM/YTQ3MCIsIndlYnBhY2s6Ly92dWUtcGFnZS1uYXZpZ2F0aW9uLy4vcGFja2FnZS9oaXN0b3J5LmpzPzNiZWIiLCJ3ZWJwYWNrOi8vdnVlLXBhZ2UtbmF2aWdhdGlvbi8uL3BhY2thZ2UvdXRpbC5qcz85ZmQ4Iiwid2VicGFjazovL3Z1ZS1wYWdlLW5hdmlnYXRpb24vLi9wYWNrYWdlL3Z1ZS1wYWdlLW5hdmlnYXRpb24uanM/MDA2ZSIsIndlYnBhY2s6Ly92dWUtcGFnZS1uYXZpZ2F0aW9uLy4vcGFja2FnZS9taXhpbi5qcz8xZGMyIiwid2VicGFjazovL3Z1ZS1wYWdlLW5hdmlnYXRpb24vLi9wYWNrYWdlL2luZGV4LmpzPzhkMWEiLCJ3ZWJwYWNrOi8vdnVlLXBhZ2UtbmF2aWdhdGlvbi8uL25vZGVfbW9kdWxlcy9AdnVlL2NsaS1zZXJ2aWNlL2xpYi9jb21tYW5kcy9idWlsZC9lbnRyeS1saWIuanM/ZmIxNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUE7O0FBRUE7QUFDQTtBQUNBLE1BQU0sSUFBdUM7QUFDN0MsMkJBQTJCLG1CQUFPLENBQUMsTUFBMEI7QUFDN0Q7O0FBRUE7QUFDQTtBQUNBLHdEQUF3RCx3QkFBd0I7QUFDaEY7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSSxxQkFBdUI7QUFDM0I7QUFDQTs7QUFFQTtBQUNlLHNEQUFJOzs7O0FDcEJKO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDOzs7QUNYNEI7O0FBRWY7QUFDZixVQUFVLE1BQU07QUFDaEI7QUFDQTtBQUNBLENBQUMsRUFBQzs7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RVg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUksZUFBTyxVQUFVLE1BQU07QUFDM0IsSUFBSSxlQUFPOztBQUVYO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLGVBQU8sVUFBVSxNQUFNO0FBQzNCLElBQUksZUFBTzs7QUFFWDtBQUNBO0FBQ0EsQ0FBQzs7O0FDbkR5RDtBQUM5QjtBQUNJO0FBQ0Y7QUFDVTs7QUFFeEM7QUFDQSxrQkFBa0IsZ0JBQWdCLE1BQU0sMEJBQTBCLE1BQU0sVUFBVTtBQUNsRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaUJBQWlCOztBQUV6QyxJQUFJLEtBQUs7O0FBRVQ7QUFDQSxXQUFXLE1BQU07QUFDakIsNEJBQTRCLE1BQU07QUFDbEMsc0JBQXNCLGVBQU8sWUFBWSxNQUFNLGlCQUFpQixNQUFNO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDJDQUEyQyxlQUFPO0FBQ2xELGNBQWMsb0JBQW9CO0FBQ2xDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRWUscUVBQXVCLEVBQUM7OztBQ3hDZjtBQUNBO0FBQ1Qsd0ZBQUc7QUFDSSIsImZpbGUiOiJmYjE1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhpcyBmaWxlIGlzIGltcG9ydGVkIGludG8gbGliL3djIGNsaWVudCBidW5kbGVzLlxuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgdmFyIGN1cnJlbnRTY3JpcHQgPSB3aW5kb3cuZG9jdW1lbnQuY3VycmVudFNjcmlwdFxuICBpZiAocHJvY2Vzcy5lbnYuTkVFRF9DVVJSRU5UU0NSSVBUX1BPTFlGSUxMKSB7XG4gICAgdmFyIGdldEN1cnJlbnRTY3JpcHQgPSByZXF1aXJlKCdAc29kYS9nZXQtY3VycmVudC1zY3JpcHQnKVxuICAgIGN1cnJlbnRTY3JpcHQgPSBnZXRDdXJyZW50U2NyaXB0KClcblxuICAgIC8vIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCBiZWNhdXNlIHByZXZpb3VzbHkgd2UgZGlyZWN0bHkgaW5jbHVkZWQgdGhlIHBvbHlmaWxsXG4gICAgaWYgKCEoJ2N1cnJlbnRTY3JpcHQnIGluIGRvY3VtZW50KSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRvY3VtZW50LCAnY3VycmVudFNjcmlwdCcsIHsgZ2V0OiBnZXRDdXJyZW50U2NyaXB0IH0pXG4gICAgfVxuICB9XG5cbiAgdmFyIHNyYyA9IGN1cnJlbnRTY3JpcHQgJiYgY3VycmVudFNjcmlwdC5zcmMubWF0Y2goLyguK1xcLylbXi9dK1xcLmpzKFxcPy4qKT8kLylcbiAgaWYgKHNyYykge1xuICAgIF9fd2VicGFja19wdWJsaWNfcGF0aF9fID0gc3JjWzFdIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgfVxufVxuXG4vLyBJbmRpY2F0ZSB0byB3ZWJwYWNrIHRoYXQgdGhpcyBmaWxlIGNhbiBiZSBjb25jYXRlbmF0ZWRcbmV4cG9ydCBkZWZhdWx0IG51bGxcbiIsIlxuZXhwb3J0IGRlZmF1bHQge1xuICAvLyDnu4Tku7blkI3np7BcbiAgY29tcG9uZW50TmFtZTogJ1Z1ZVBhZ2VOYXZpZ2F0aW9uJyxcbiAgLy8g6Lev5b6E5Y+C5pWwa2V5XG4gIGtleU5hbWU6ICdQTksnLFxuICBwdXNoTmFtZTogJ3B1c2gnLFxuICBnb05hbWU6ICdnbycsXG4gIHJlcGxhY2VOYW1lOiAncmVwbGFjZScsXG4gIGJhY2tOYW1lOiAnYmFjaycsXG4gIGZvcndhcmROYW1lOiAnZm9yd2FyZCdcbn07XG4iLCJpbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBhY3Rpb246IGNvbmZpZy5wdXNoTmFtZSxcbiAgLy8g6Lev55Sx6Lez6L2s5pa55ZCR77yaZm9yd2FyZCB8fCBiYWNrd2FyZCxcbiAgcm91dGVyRGlyZWN0aW9uOiAnZm9yd2FyZCdcbn07XG4iLCJcbi8qKlxuICogR2V0IHRoZSByYXcgdHlwZSBzdHJpbmcgb2YgYSB2YWx1ZSwgZS5nLiwgW29iamVjdCBPYmplY3RdLlxuICovXG5jb25zdCBfdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFpbk9iamVjdCAob2JqKSB7XG4gIHJldHVybiBfdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBPYmplY3RdJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVnRXhwICh2KSB7XG4gIHJldHVybiBfdG9TdHJpbmcuY2FsbCh2KSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0RlZiAodikge1xuICByZXR1cm4gdiAhPT0gdW5kZWZpbmVkICYmIHYgIT09IG51bGw7XG59XG5cbi8qKlxuICog5LuO5pWw57uE5Lit56e76Zmk5LiA5Liq5YWD57SgXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJcbiAqIEBwYXJhbSB7QW55fSBpdGVtXG4gKiBAcmV0dXJucyB7QW55fSDnp7vpmaTnmoTlhYPntKBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZSAoYXJyLCBpdGVtKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikgJiYgYXJyLmxlbmd0aCkge1xuICAgIGNvbnN0IGluZGV4ID0gYXJyLmluZGV4T2YoaXRlbSk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIHJldHVybiBhcnIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiDku47mlbDnu4TkuK3np7vpmaTkuIDkuKrlhYPntKDvvIzlubbku6XmlrDlhYPntKDmm7/mjaJcbiAqIEBwYXJhbSB7QXJyYXl9IGFyclxuICogQHBhcmFtIHtBbnl9IGl0ZW1cbiAqIEByZXR1cm5zIHtBbnl9IOenu+mZpOeahOWFg+e0oFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3BsaWNlIChhcnIsIG9sZEl0ZW0sIG5ld0l0ZW0pIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSAmJiBhcnIubGVuZ3RoKSB7XG4gICAgY29uc3QgaW5kZXggPSBhcnIuaW5kZXhPZihvbGRJdGVtKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgcmV0dXJuIGFyci5zcGxpY2UoaW5kZXgsIDEsIG5ld0l0ZW0pO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIOeUn+aIkGtleVxuICogQHBhcmFtIHtTdHJpbmd9IHRwbCDnlJ/miJDmqKHniYgtLXh557uE5oiQXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5LZXkgKHRwbCA9ICd4eHh4eHh4eCcpIHtcbiAgcmV0dXJuIHRwbC5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7XG4gICAgbGV0IHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDA7XG4gICAgbGV0IHYgPSBjID09PSAneCcgPyByIDogKHIgJiAweDMpIHwgMHg4O1xuICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgfSk7XG59XG5cbi8qKlxuICog5a+56LGh5Lit5piv5ZCm5pyJa2V5XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIOe6r+WvueixoVxuICogQHBhcmFtIHtTdHJpbmd9IGtleU5hbWUga2V55ZCN56ewXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNLZXkgKG9iaiwga2V5TmFtZSkge1xuICByZXR1cm4gISFvYmpba2V5TmFtZV07XG59XG4iLCJpbXBvcnQgaGlzdG9yeSBmcm9tICcuL2hpc3RvcnknO1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBpc0RlZiwgcmVtb3ZlLCBpc1JlZ0V4cCwgc3BsaWNlIH0gZnJvbSAnLi91dGlsJztcblxuLy8g5Y+C6ICDdnVlIGtlZXBBbGl2Zee7hOS7tuWGmeazlVxuZnVuY3Rpb24gaXNBc3luY1BsYWNlaG9sZGVyIChub2RlKSB7XG4gIHJldHVybiBub2RlLmlzQ29tbWVudCAmJiBub2RlLmFzeW5jRmFjdG9yeTtcbn1cbi8vIOWPguiAg3Z1ZSBrZWVwQWxpdmXnu4Tku7blhpnms5VcbmZ1bmN0aW9uIGdldEZpcnN0Q29tcG9uZW50Q2hpbGQgKGNoaWxkcmVuKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGMgPSBjaGlsZHJlbltpXTtcbiAgICAgIGlmIChpc0RlZihjKSAmJiAoaXNEZWYoYy5jb21wb25lbnRPcHRpb25zKSB8fCBpc0FzeW5jUGxhY2Vob2xkZXIoYykpKSB7XG4gICAgICAgIHJldHVybiBjO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRJbmRleEJ5S2V5IChrZXlzLCBrZXkpIHtcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGtleXMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgaWYgKGtleXNbaW5kZXhdID09PSBrZXkpIHtcbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG5mdW5jdGlvbiBnZXRDb21wb25lbnROYW1lIChvcHRzKSB7XG4gIHJldHVybiBvcHRzICYmIChvcHRzLkN0b3Iub3B0aW9ucy5uYW1lIHx8IG9wdHMudGFnKTtcbn1cblxuLyoqXG4gKiDmmK/lkKbljLnphY1cbiAqIEBwYXJhbSB7Kn0gcGF0dGVyblxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUg57uE5Lu25ZCN56ewXG4gKi9cbmZ1bmN0aW9uIG1hdGNoZXMgKHBhdHRlcm4sIG5hbWUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkocGF0dGVybikpIHtcbiAgICByZXR1cm4gcGF0dGVybi5pbmRleE9mKG5hbWUpID4gLTE7XG4gIH1cbiAgZWxzZSBpZiAodHlwZW9mIHBhdHRlcm4gPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHBhdHRlcm4uc3BsaXQoJywnKS5pbmRleE9mKG5hbWUpID4gLTE7XG4gIH1cbiAgZWxzZSBpZiAoaXNSZWdFeHAocGF0dGVybikpIHtcbiAgICByZXR1cm4gcGF0dGVybi50ZXN0KG5hbWUpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gcHJ1bmVDYWNoZSAoa2VlcEFsaXZlSW5zdGFuY2UsIGZpbHRlcikge1xuICBjb25zdCB7IGNhY2hlLCBrZXlzIH0gPSBrZWVwQWxpdmVJbnN0YW5jZTtcbiAgZm9yIChjb25zdCBrZXkgaW4gY2FjaGUpIHtcbiAgICBjb25zdCBjYWNoZWROb2RlID0gY2FjaGVba2V5XTtcbiAgICBpZiAoY2FjaGVkTm9kZSkge1xuICAgICAgY29uc3QgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoY2FjaGVkTm9kZS5jb21wb25lbnRPcHRpb25zKTtcbiAgICAgIGlmIChuYW1lICYmICFmaWx0ZXIobmFtZSkpIHtcbiAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KGNhY2hlLCBrZXksIGtleXMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBwcnVuZUNhY2hlRW50cnkgKGNhY2hlLCBrZXksIGtleXMpIHtcbiAgaWYgKCFrZXkpIHJldHVybjtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGVba2V5XTtcbiAgaWYgKGNhY2hlZCkge1xuICAgIGNhY2hlZC5jb21wb25lbnRJbnN0YW5jZS4kZGVzdHJveSgpO1xuICB9XG4gIGNhY2hlW2tleV0gPSBudWxsO1xuICBkZWxldGUgY2FjaGVba2V5XTtcbiAgcmVtb3ZlKGtleXMsIGtleSk7XG59XG5cbmNvbnN0IHBhdHRlcm5UeXBlcyA9IFtTdHJpbmcsIFJlZ0V4cCwgQXJyYXldO1xuXG5sZXQgVnVlUGFnZU5hdmlnYXRpb24gPSBrZXlOYW1lID0+IHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBjb25maWcuY29tcG9uZW50TmFtZSxcblxuICAgIGFic3RyYWN0OiB0cnVlLFxuXG4gICAgZGF0YSAoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSxcblxuICAgIHByb3BzOiB7XG4gICAgICBpbmNsdWRlOiBwYXR0ZXJuVHlwZXMsXG5cbiAgICAgIGV4Y2x1ZGU6IHBhdHRlcm5UeXBlcyxcblxuICAgICAgbWF4OiB7XG4gICAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sXG4gICAgICAgIGRlZmF1bHQ6IDUwXG4gICAgICB9XG4gICAgfSxcblxuICAgIGNyZWF0ZWQgKCkge1xuICAgICAgdGhpcy5jYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICB0aGlzLmtleXMgPSBbXTtcbiAgICB9LFxuXG4gICAgZGVzdHJveWVkICgpIHtcbiAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLmNhY2hlKSB7XG4gICAgICAgIHBydW5lQ2FjaGVFbnRyeSh0aGlzLmNhY2hlLCBrZXksIHRoaXMua2V5cyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIG1vdW50ZWQgKCkge1xuICAgICAgdGhpcy4kd2F0Y2goJ2luY2x1ZGUnLCAodmFsKSA9PiB7XG4gICAgICAgIHBydW5lQ2FjaGUodGhpcywgKG5hbWUpID0+IG1hdGNoZXModmFsLCBuYW1lKSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuJHdhdGNoKCdleGNsdWRlJywgKHZhbCkgPT4ge1xuICAgICAgICBwcnVuZUNhY2hlKHRoaXMsIChuYW1lKSA9PiAhbWF0Y2hlcyh2YWwsIG5hbWUpKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICByZW5kZXIgKCkge1xuICAgICAgbGV0IGtleSA9IHRoaXMuJHJvdXRlLnF1ZXJ5W2tleU5hbWVdO1xuICAgICAgY29uc3Qgc2xvdCA9IHRoaXMuJHNsb3RzLmRlZmF1bHQ7XG4gICAgICBjb25zdCB2bm9kZSA9IGdldEZpcnN0Q29tcG9uZW50Q2hpbGQoc2xvdCk7XG4gICAgICBjb25zdCBjb21wb25lbnRPcHRpb25zID0gdm5vZGUgJiYgdm5vZGUuY29tcG9uZW50T3B0aW9ucztcblxuICAgICAgaWYgKGNvbXBvbmVudE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoY29tcG9uZW50T3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHsgaW5jbHVkZSwgZXhjbHVkZSwgY2FjaGUsIGtleXMgfSA9IHRoaXM7XG5cbiAgICAgICAgLy8g5aaC5p6c5Yy56YWN5Yiw5LiN5YyF5ZCr5oiW6ICF57uE5Lu25ZCN56ew5pyq5o+Q5L6b77yM5YiZ55u05o6l6L+U5Zuedm5vZGVcbiAgICAgICAgaWYgKCFuYW1lIHx8IChleGNsdWRlICYmIG1hdGNoZXMoZXhjbHVkZSwgbmFtZSkpKSB7XG4gICAgICAgICAgcmV0dXJuIHZub2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIOS7jue8k+WtmOS4reWMuemFjW5hbWXvvIxpbmNsdWRl55qE5aeL57uI57yT5a2YXG4gICAgICAgICAgaWYgKGluY2x1ZGUgJiYgbmFtZSAmJiBtYXRjaGVzKGluY2x1ZGUsIG5hbWUpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjYWNoZUtleSBpbiBjYWNoZSkge1xuICAgICAgICAgICAgICBsZXQgX25hbWUgPSBnZXRDb21wb25lbnROYW1lKGNhY2hlW2NhY2hlS2V5XS5jb21wb25lbnRPcHRpb25zKTtcbiAgICAgICAgICAgICAgLy8g5aaC5p6c57uE5Lu25ZCN56ew5LiA6Ie077yM6YKj5LmI5pu/5o2i57yT5a2Y5Lit55qEa2V5XG4gICAgICAgICAgICAgIGlmIChfbmFtZSA9PT0gbmFtZSAmJiBrZXkgIT09IGNhY2hlS2V5KSB7XG4gICAgICAgICAgICAgICAgY2FjaGVba2V5XSA9IGNhY2hlW2NhY2hlS2V5XTtcbiAgICAgICAgICAgICAgICBzcGxpY2Uoa2V5cywgY2FjaGVLZXksIGtleSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGNhY2hlW2NhY2hlS2V5XTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjYWNoZVtrZXldKSB7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSBnZXRJbmRleEJ5S2V5KGtleXMsIGtleSk7XG4gICAgICAgICAgICB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSA9IGNhY2hlW2tleV0uY29tcG9uZW50SW5zdGFuY2U7XG4gICAgICAgICAgICAvLyDliKDpmaTlvZPliY1rZXnnmoTntKLlvJXkuYvlkI7nmoTnvJPlrZhcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBrZXlzLmxlbmd0aCAtIDE7IGkgPiBpbmRleDsgaS0tKSB7XG4gICAgICAgICAgICAgIGxldCBfY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWUoY2FjaGVba2V5c1tpXV0uY29tcG9uZW50T3B0aW9ucyk7XG4gICAgICAgICAgICAgIGlmICghbWF0Y2hlcyhpbmNsdWRlLCBfY29tcG9uZW50TmFtZSkpIHtcbiAgICAgICAgICAgICAgICBwcnVuZUNhY2hlRW50cnkoY2FjaGUsIGtleXNbaV0sIGtleXMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGhpc3RvcnkuYWN0aW9uID09PSBjb25maWcucmVwbGFjZU5hbWUpIHtcbiAgICAgICAgICAgICAgbGV0IF9jdXJLZXkgPSBrZXlzW2tleXMubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICAgICAgX25hbWUgPSBnZXRDb21wb25lbnROYW1lKGNhY2hlW19jdXJLZXldLmNvbXBvbmVudE9wdGlvbnMpO1xuICAgICAgICAgICAgICAvLyByZXBsYWNl77ya5aaC5p6c57uE5Lu25rKh5Y+Y77yM5LuF5pu/5o2i57yT5a2Y5Lit55qEa2V5XG4gICAgICAgICAgICAgIGlmIChfbmFtZSA9PT0gbmFtZSAmJiBrZXkgIT09IF9jdXJLZXkpIHtcbiAgICAgICAgICAgICAgICBjYWNoZVtrZXldID0gY2FjaGVbX2N1cktleV07XG4gICAgICAgICAgICAgICAgc3BsaWNlKGtleXMsIF9jdXJLZXksIGtleSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGNhY2hlW19jdXJLZXldO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShjYWNoZSwga2V5c1trZXlzLmxlbmd0aCAtIDFdLCBrZXlzKTtcbiAgICAgICAgICAgICAgICBjYWNoZVtrZXldID0gdm5vZGU7XG4gICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBjYWNoZVtrZXldID0gdm5vZGU7XG4gICAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBMUlXvvJrotoXlh7rmnIDlpKfnvJPlrZjmlbDph4/vvIzliKDpmaTnrKzkuIDkuKpcbiAgICAgICAgICAgIGlmICh0aGlzLm1heCAmJiBrZXlzLmxlbmd0aCA+IHBhcnNlSW50KHRoaXMubWF4KSkge1xuICAgICAgICAgICAgICBwcnVuZUNhY2hlRW50cnkoY2FjaGUsIGtleXNbMF0sIGtleXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyDliKDpmaTlpJrkvZnnvJPlrZjvvIzkvovlpoLvvJpwdXNoOjo6QS0+Qi0+Qy0+Qi0+Q++8jOmCo+S5iOW9k+i3s+i9rOWIsOesrOS6jOS4qkLml7bvvIznrKzkuIDkuKpC6L+Y5Zyo57yT5a2Y54q25oCBXG4gICAgICAgICAgICBmb3IgKGxldCBjYWNoZUtleSBpbiBjYWNoZSkge1xuICAgICAgICAgICAgICBsZXQgX25hbWUgPSBnZXRDb21wb25lbnROYW1lKGNhY2hlW2NhY2hlS2V5XS5jb21wb25lbnRPcHRpb25zKTtcbiAgICAgICAgICAgICAgLy8g5aaC5p6c57uE5Lu25ZCN56ew5LiA6Ie077yM6YKj5LmI5pu/5o2i57yT5a2Y5Lit55qEa2V5XG4gICAgICAgICAgICAgIGlmIChfbmFtZSA9PT0gbmFtZSAmJiBrZXkgIT09IGNhY2hlS2V5KSB7XG4gICAgICAgICAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KGNhY2hlLCBjYWNoZUtleSwga2V5cyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2bm9kZS5kYXRhLmtlZXBBbGl2ZSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2bm9kZTtcbiAgICB9XG4gIH07XG59O1xuXG5leHBvcnQgeyBWdWVQYWdlTmF2aWdhdGlvbiB9O1xuIiwiLyog5oum5oiq6Lev55Sx6Lez6L2s5oyH5Luk77ya6YeN5YaZICovXG5pbXBvcnQgaGlzdG9yeSBmcm9tICcuL2hpc3RvcnknO1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChyb3V0ZXIpIHtcbiAgY29uc3Qgcm91dGVyUHVzaCA9IHJvdXRlci5wdXNoLmJpbmQocm91dGVyKTtcbiAgY29uc3Qgcm91dGVyR28gPSByb3V0ZXIuZ28uYmluZChyb3V0ZXIpO1xuICBjb25zdCByb3V0ZXJSZXBsYWNlID0gcm91dGVyLnJlcGxhY2UuYmluZChyb3V0ZXIpO1xuICBjb25zdCByb3V0ZXJCYWNrID0gcm91dGVyLmJhY2suYmluZChyb3V0ZXIpO1xuICBjb25zdCByb3V0ZXJGb3J3YXJkID0gcm91dGVyLmZvcndhcmQuYmluZChyb3V0ZXIpO1xuXG4gIHJvdXRlci5wdXNoID0gKGxvY2F0aW9uLCBvblJlc29sdmUsIG9uUmVqZWN0KSA9PiB7XG4gICAgaGlzdG9yeS5hY3Rpb24gPSBjb25maWcucHVzaE5hbWU7XG4gICAgaGlzdG9yeS5yb3V0ZXJEaXJlY3Rpb24gPSAnZm9yd2FyZCc7XG5cbiAgICBpZiAob25SZXNvbHZlIHx8IG9uUmVqZWN0KSB7XG4gICAgICByZXR1cm4gcm91dGVyUHVzaChsb2NhdGlvbiwgb25SZXNvbHZlLCBvblJlamVjdCk7XG4gICAgfVxuICAgIHJldHVybiByb3V0ZXJQdXNoKGxvY2F0aW9uKS5jYXRjaChlcnJvciA9PiBlcnJvcik7XG4gIH07XG5cbiAgcm91dGVyLmdvID0gbiA9PiB7XG4gICAgaGlzdG9yeS5hY3Rpb24gPSBjb25maWcuZ29OYW1lO1xuICAgIGhpc3Rvcnkucm91dGVyRGlyZWN0aW9uID0gbiA+IDAgPyAnZm9yd2FyZCcgOiAnYmFja3dhcmQnO1xuXG4gICAgcm91dGVyR28obik7XG4gIH07XG5cbiAgcm91dGVyLnJlcGxhY2UgPSAobG9jYXRpb24sIG9uUmVzb2x2ZSwgb25SZWplY3QpID0+IHtcbiAgICBoaXN0b3J5LmFjdGlvbiA9IGNvbmZpZy5yZXBsYWNlTmFtZTtcbiAgICBoaXN0b3J5LnJvdXRlckRpcmVjdGlvbiA9ICdmb3J3YXJkJztcblxuICAgIGlmIChvblJlc29sdmUgfHwgb25SZWplY3QpIHtcbiAgICAgIHJldHVybiByb3V0ZXJSZXBsYWNlKGxvY2F0aW9uLCBvblJlc29sdmUsIG9uUmVqZWN0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJvdXRlclJlcGxhY2UobG9jYXRpb24pLmNhdGNoKGVycm9yID0+IGVycm9yKTtcbiAgfTtcblxuICByb3V0ZXIuYmFjayA9ICgpID0+IHtcbiAgICBoaXN0b3J5LmFjdGlvbiA9IGNvbmZpZy5iYWNrTmFtZTtcbiAgICBoaXN0b3J5LnJvdXRlckRpcmVjdGlvbiA9ICdiYWNrd2FyZCc7XG5cbiAgICByb3V0ZXJCYWNrKCk7XG4gIH07XG5cbiAgcm91dGVyLmZvcndhcmQgPSAoKSA9PiB7XG4gICAgaGlzdG9yeS5hY3Rpb24gPSBjb25maWcuZm9yd2FyZE5hbWU7XG4gICAgaGlzdG9yeS5yb3V0ZXJEaXJlY3Rpb24gPSAnZm9yd2FyZCc7XG5cbiAgICByb3V0ZXJGb3J3YXJkKCk7XG4gIH07XG59O1xuIiwiaW1wb3J0IHsgVnVlUGFnZU5hdmlnYXRpb24gfSBmcm9tICcuL3Z1ZS1wYWdlLW5hdmlnYXRpb24nO1xuaW1wb3J0IG1peGluIGZyb20gJy4vbWl4aW4nO1xuaW1wb3J0IGhpc3RvcnkgZnJvbSAnLi9oaXN0b3J5JztcbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgZ2VuS2V5LCBoYXNLZXkgfSBmcm9tICcuL3V0aWwnO1xuXG5jb25zdCBWdWVQYWdlTmF2aWdhdGlvblBsdWdpbiA9IHtcbiAgaW5zdGFsbCAgKFZ1ZSwgeyByb3V0ZXIsIG5hbWUgPSBjb25maWcuY29tcG9uZW50TmFtZSwga2V5TmFtZSA9IGNvbmZpZy5rZXlOYW1lIH0pIHtcbiAgICBpZiAoIXJvdXRlcikge1xuICAgICAgdGhyb3cgRXJyb3IoJ1xcbiB2dWUtcm91dGVyIGlzIG5lY2Vzc2FyeS4gXFxuXFxuJyk7XG4gICAgfVxuICAgIFZ1ZS5jb21wb25lbnQobmFtZSwgVnVlUGFnZU5hdmlnYXRpb24oa2V5TmFtZSkpO1xuXG4gICAgbWl4aW4ocm91dGVyKTtcblxuICAgIGZ1bmN0aW9uIGJlZm9yZUVhY2ggKHRvLCBmcm9tLCBuZXh0KSB7XG4gICAgICBpZiAoIWhhc0tleSh0by5xdWVyeSwga2V5TmFtZSkpIHtcbiAgICAgICAgdG8ucXVlcnlba2V5TmFtZV0gPSBnZW5LZXkoKTtcbiAgICAgICAgbGV0IHJlcGxhY2UgPSBoaXN0b3J5LmFjdGlvbiA9PT0gY29uZmlnLnJlcGxhY2VOYW1lIHx8ICFoYXNLZXkoZnJvbS5xdWVyeSwga2V5TmFtZSk7XG4gICAgICAgIG5leHQoe1xuICAgICAgICAgIGhhc2g6IHRvLmhhc2gsXG4gICAgICAgICAgcGF0aDogdG8ucGF0aCxcbiAgICAgICAgICBuYW1lOiB0by5uYW1lLFxuICAgICAgICAgIHBhcmFtczogdG8ucGFyYW1zLFxuICAgICAgICAgIHF1ZXJ5OiB0by5xdWVyeSxcbiAgICAgICAgICBtZXRhOiB0by5tZXRhLFxuICAgICAgICAgIHJlcGxhY2U6IHJlcGxhY2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdG8ucGFyYW1zW2tleU5hbWUgKyAnRGlyZWN0aW9uJ10gPSBoaXN0b3J5LnJvdXRlckRpcmVjdGlvbjtcbiAgICAgICAgbmV4dCh7IHBhcmFtczogdG8ucGFyYW1zIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIOehruS/neWug+aYr+esrOS4gOS4qnJvdXRlcuaLpuaIqu+8mmJlZm9yZUVhY2hcbiAgICByb3V0ZXIuYmVmb3JlSG9va3MudW5zaGlmdChiZWZvcmVFYWNoKTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgVnVlUGFnZU5hdmlnYXRpb25QbHVnaW47XG4iLCJpbXBvcnQgJy4vc2V0UHVibGljUGF0aCdcbmltcG9ydCBtb2QgZnJvbSAnfmVudHJ5J1xuZXhwb3J0IGRlZmF1bHQgbW9kXG5leHBvcnQgKiBmcm9tICd+ZW50cnknXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///fb15\n")}})}));