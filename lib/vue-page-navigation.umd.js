(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["vue-page-navigation"] = factory();
	else
		root["vue-page-navigation"] = factory();
})((typeof self !== 'undefined' ? self : this), function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "fb15");
/******/ })
/************************************************************************/
/******/ ({

/***/ "8875":
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// addapted from the document.currentScript polyfill by Adam Miller\n// MIT license\n// source: https://github.com/amiller-gh/currentScript-polyfill\n\n// added support for Firefox https://bugzilla.mozilla.org/show_bug.cgi?id=1620505\n\n(function (root, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n}(typeof self !== 'undefined' ? self : this, function () {\n  function getCurrentScript () {\n    var descriptor = Object.getOwnPropertyDescriptor(document, 'currentScript')\n    // for chrome\n    if (!descriptor && 'currentScript' in document && document.currentScript) {\n      return document.currentScript\n    }\n\n    // for other browsers with native support for currentScript\n    if (descriptor && descriptor.get !== getCurrentScript && document.currentScript) {\n      return document.currentScript\n    }\n  \n    // IE 8-10 support script readyState\n    // IE 11+ & Firefox support stack trace\n    try {\n      throw new Error();\n    }\n    catch (err) {\n      // Find the second match for the \"at\" string to get file src url from stack.\n      var ieStackRegExp = /.*at [^(]*\\((.*):(.+):(.+)\\)$/ig,\n        ffStackRegExp = /@([^@]*):(\\d+):(\\d+)\\s*$/ig,\n        stackDetails = ieStackRegExp.exec(err.stack) || ffStackRegExp.exec(err.stack),\n        scriptLocation = (stackDetails && stackDetails[1]) || false,\n        line = (stackDetails && stackDetails[2]) || false,\n        currentLocation = document.location.href.replace(document.location.hash, ''),\n        pageSource,\n        inlineScriptSourceRegExp,\n        inlineScriptSource,\n        scripts = document.getElementsByTagName('script'); // Live NodeList collection\n  \n      if (scriptLocation === currentLocation) {\n        pageSource = document.documentElement.outerHTML;\n        inlineScriptSourceRegExp = new RegExp('(?:[^\\\\n]+?\\\\n){0,' + (line - 2) + '}[^<]*<script>([\\\\d\\\\D]*?)<\\\\/script>[\\\\d\\\\D]*', 'i');\n        inlineScriptSource = pageSource.replace(inlineScriptSourceRegExp, '$1').trim();\n      }\n  \n      for (var i = 0; i < scripts.length; i++) {\n        // If ready state is interactive, return the script tag\n        if (scripts[i].readyState === 'interactive') {\n          return scripts[i];\n        }\n  \n        // If src matches, return the script tag\n        if (scripts[i].src === scriptLocation) {\n          return scripts[i];\n        }\n  \n        // If inline source matches, return the script tag\n        if (\n          scriptLocation === currentLocation &&\n          scripts[i].innerHTML &&\n          scripts[i].innerHTML.trim() === inlineScriptSource\n        ) {\n          return scripts[i];\n        }\n      }\n  \n      // If no match, return null\n      return null;\n    }\n  };\n\n  return getCurrentScript\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUtcGFnZS1uYXZpZ2F0aW9uLy4vbm9kZV9tb2R1bGVzL0Bzb2RhL2dldC1jdXJyZW50LXNjcmlwdC9pbmRleC5qcz84ODc1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLE1BQU0sSUFBMEM7QUFDaEQsSUFBSSxpQ0FBTyxFQUFFLG9DQUFFLE9BQU87QUFBQTtBQUFBO0FBQUEsb0dBQUM7QUFDdkIsR0FBRyxNQUFNLEVBSU47QUFDSCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBEOztBQUUxRDtBQUNBO0FBQ0EsK0RBQStELHFCQUFxQjtBQUNwRjtBQUNBOztBQUVBLHFCQUFxQixvQkFBb0I7QUFDekM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQyIsImZpbGUiOiI4ODc1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gYWRkYXB0ZWQgZnJvbSB0aGUgZG9jdW1lbnQuY3VycmVudFNjcmlwdCBwb2x5ZmlsbCBieSBBZGFtIE1pbGxlclxuLy8gTUlUIGxpY2Vuc2Vcbi8vIHNvdXJjZTogaHR0cHM6Ly9naXRodWIuY29tL2FtaWxsZXItZ2gvY3VycmVudFNjcmlwdC1wb2x5ZmlsbFxuXG4vLyBhZGRlZCBzdXBwb3J0IGZvciBGaXJlZm94IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTE2MjA1MDVcblxuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gIH0gZWxzZSB7XG4gICAgcm9vdC5nZXRDdXJyZW50U2NyaXB0ID0gZmFjdG9yeSgpO1xuICB9XG59KHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGdldEN1cnJlbnRTY3JpcHQgKCkge1xuICAgIHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkb2N1bWVudCwgJ2N1cnJlbnRTY3JpcHQnKVxuICAgIC8vIGZvciBjaHJvbWVcbiAgICBpZiAoIWRlc2NyaXB0b3IgJiYgJ2N1cnJlbnRTY3JpcHQnIGluIGRvY3VtZW50ICYmIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpIHtcbiAgICAgIHJldHVybiBkb2N1bWVudC5jdXJyZW50U2NyaXB0XG4gICAgfVxuXG4gICAgLy8gZm9yIG90aGVyIGJyb3dzZXJzIHdpdGggbmF0aXZlIHN1cHBvcnQgZm9yIGN1cnJlbnRTY3JpcHRcbiAgICBpZiAoZGVzY3JpcHRvciAmJiBkZXNjcmlwdG9yLmdldCAhPT0gZ2V0Q3VycmVudFNjcmlwdCAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0KSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQuY3VycmVudFNjcmlwdFxuICAgIH1cbiAgXG4gICAgLy8gSUUgOC0xMCBzdXBwb3J0IHNjcmlwdCByZWFkeVN0YXRlXG4gICAgLy8gSUUgMTErICYgRmlyZWZveCBzdXBwb3J0IHN0YWNrIHRyYWNlXG4gICAgdHJ5IHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAvLyBGaW5kIHRoZSBzZWNvbmQgbWF0Y2ggZm9yIHRoZSBcImF0XCIgc3RyaW5nIHRvIGdldCBmaWxlIHNyYyB1cmwgZnJvbSBzdGFjay5cbiAgICAgIHZhciBpZVN0YWNrUmVnRXhwID0gLy4qYXQgW14oXSpcXCgoLiopOiguKyk6KC4rKVxcKSQvaWcsXG4gICAgICAgIGZmU3RhY2tSZWdFeHAgPSAvQChbXkBdKik6KFxcZCspOihcXGQrKVxccyokL2lnLFxuICAgICAgICBzdGFja0RldGFpbHMgPSBpZVN0YWNrUmVnRXhwLmV4ZWMoZXJyLnN0YWNrKSB8fCBmZlN0YWNrUmVnRXhwLmV4ZWMoZXJyLnN0YWNrKSxcbiAgICAgICAgc2NyaXB0TG9jYXRpb24gPSAoc3RhY2tEZXRhaWxzICYmIHN0YWNrRGV0YWlsc1sxXSkgfHwgZmFsc2UsXG4gICAgICAgIGxpbmUgPSAoc3RhY2tEZXRhaWxzICYmIHN0YWNrRGV0YWlsc1syXSkgfHwgZmFsc2UsXG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbiA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWYucmVwbGFjZShkb2N1bWVudC5sb2NhdGlvbi5oYXNoLCAnJyksXG4gICAgICAgIHBhZ2VTb3VyY2UsXG4gICAgICAgIGlubGluZVNjcmlwdFNvdXJjZVJlZ0V4cCxcbiAgICAgICAgaW5saW5lU2NyaXB0U291cmNlLFxuICAgICAgICBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpOyAvLyBMaXZlIE5vZGVMaXN0IGNvbGxlY3Rpb25cbiAgXG4gICAgICBpZiAoc2NyaXB0TG9jYXRpb24gPT09IGN1cnJlbnRMb2NhdGlvbikge1xuICAgICAgICBwYWdlU291cmNlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm91dGVySFRNTDtcbiAgICAgICAgaW5saW5lU2NyaXB0U291cmNlUmVnRXhwID0gbmV3IFJlZ0V4cCgnKD86W15cXFxcbl0rP1xcXFxuKXswLCcgKyAobGluZSAtIDIpICsgJ31bXjxdKjxzY3JpcHQ+KFtcXFxcZFxcXFxEXSo/KTxcXFxcL3NjcmlwdD5bXFxcXGRcXFxcRF0qJywgJ2knKTtcbiAgICAgICAgaW5saW5lU2NyaXB0U291cmNlID0gcGFnZVNvdXJjZS5yZXBsYWNlKGlubGluZVNjcmlwdFNvdXJjZVJlZ0V4cCwgJyQxJykudHJpbSgpO1xuICAgICAgfVxuICBcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2NyaXB0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBJZiByZWFkeSBzdGF0ZSBpcyBpbnRlcmFjdGl2ZSwgcmV0dXJuIHRoZSBzY3JpcHQgdGFnXG4gICAgICAgIGlmIChzY3JpcHRzW2ldLnJlYWR5U3RhdGUgPT09ICdpbnRlcmFjdGl2ZScpIHtcbiAgICAgICAgICByZXR1cm4gc2NyaXB0c1tpXTtcbiAgICAgICAgfVxuICBcbiAgICAgICAgLy8gSWYgc3JjIG1hdGNoZXMsIHJldHVybiB0aGUgc2NyaXB0IHRhZ1xuICAgICAgICBpZiAoc2NyaXB0c1tpXS5zcmMgPT09IHNjcmlwdExvY2F0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIHNjcmlwdHNbaV07XG4gICAgICAgIH1cbiAgXG4gICAgICAgIC8vIElmIGlubGluZSBzb3VyY2UgbWF0Y2hlcywgcmV0dXJuIHRoZSBzY3JpcHQgdGFnXG4gICAgICAgIGlmIChcbiAgICAgICAgICBzY3JpcHRMb2NhdGlvbiA9PT0gY3VycmVudExvY2F0aW9uICYmXG4gICAgICAgICAgc2NyaXB0c1tpXS5pbm5lckhUTUwgJiZcbiAgICAgICAgICBzY3JpcHRzW2ldLmlubmVySFRNTC50cmltKCkgPT09IGlubGluZVNjcmlwdFNvdXJjZVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gc2NyaXB0c1tpXTtcbiAgICAgICAgfVxuICAgICAgfVxuICBcbiAgICAgIC8vIElmIG5vIG1hdGNoLCByZXR1cm4gbnVsbFxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBnZXRDdXJyZW50U2NyaXB0XG59KSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8875\n");

/***/ }),

/***/ "fb15":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js\n// This file is imported into lib/wc client bundles.\n\nif (typeof window !== 'undefined') {\n  var currentScript = window.document.currentScript\n  if (true) {\n    var getCurrentScript = __webpack_require__(\"8875\")\n    currentScript = getCurrentScript()\n\n    // for backward compatibility, because previously we directly included the polyfill\n    if (!('currentScript' in document)) {\n      Object.defineProperty(document, 'currentScript', { get: getCurrentScript })\n    }\n  }\n\n  var src = currentScript && currentScript.src.match(/(.+\\/)[^/]+\\.js(\\?.*)?$/)\n  if (src) {\n    __webpack_require__.p = src[1] // eslint-disable-line\n  }\n}\n\n// Indicate to webpack that this file can be concatenated\n/* harmony default export */ var setPublicPath = (null);\n\n// CONCATENATED MODULE: ./package/config.js\n\n/* harmony default export */ var config = ({\n  // 组件名称\n  componentName: 'VuePageNavigation',\n  // 路径参数key\n  keyName: 'PNK',\n  pushName: 'push',\n  goName: 'go',\n  replaceName: 'replace',\n  backName: 'back',\n  forwardName: 'forward'\n});\n\n// CONCATENATED MODULE: ./package/history.js\n\n\n/* harmony default export */ var package_history = ({\n  action: config.pushName,\n  // 路由跳转方向：forward || backward,\n  routerDirection: 'forward'\n});\n\n// CONCATENATED MODULE: ./package/util.js\n\n/**\n * Get the raw type string of a value, e.g., [object Object].\n */\nconst _toString = Object.prototype.toString;\n\nfunction isPlainObject (obj) {\n  return _toString.call(obj) === '[object Object]';\n}\n\nfunction isRegExp (v) {\n  return _toString.call(v) === '[object RegExp]';\n}\n\nfunction isDef (v) {\n  return v !== undefined && v !== null;\n}\n\n/**\n * 从数组中移除一个元素\n * @param {Array} arr\n * @param {Any} item 要删除的元素\n * @returns {Any} 移除的元素\n */\nfunction remove (arr, item) {\n  if (Array.isArray(arr) && arr.length) {\n    const index = arr.indexOf(item);\n    if (index > -1) {\n      return arr.splice(index, 1);\n    }\n  }\n}\n\n/**\n * 从数组中移除一个元素，并以新元素替换\n * @param {Array} arr\n * @param {Any} oldItem 要删除的元素\n * @param {Any} newItem 添加到删除位置的新元素\n * @returns {Any} 移除的元素\n */\nfunction splice (arr, oldItem, newItem) {\n  if (Array.isArray(arr) && arr.length) {\n    const index = arr.indexOf(oldItem);\n    if (index > -1) {\n      return arr.splice(index, 1, newItem);\n    }\n  }\n}\n\n/**\n * 生成key\n * @param {String} tpl 生成模版--xy组成\n */\nfunction genKey (tpl = 'xxxxxxxx') {\n  return tpl.replace(/[xy]/g, function (c) {\n    let r = (Math.random() * 16) | 0;\n    let v = c === 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n\n/**\n * 对象中是否有key\n * @param {Object} obj 纯对象\n * @param {String} keyName key名称\n */\nfunction hasKey (obj, keyName) {\n  return !!obj[keyName];\n}\n\n// CONCATENATED MODULE: ./package/vue-page-navigation.js\n\n\n\n\n// 参考vue keepAlive组件写法\nfunction isAsyncPlaceholder (node) {\n  return node.isComment && node.asyncFactory;\n}\n// 参考vue keepAlive组件写法\nfunction getFirstComponentChild (children) {\n  if (Array.isArray(children)) {\n    for (let i = 0; i < children.length; i++) {\n      const c = children[i];\n      if (isDef(c) && (isDef(c.componentOptions) || isAsyncPlaceholder(c))) {\n        return c;\n      }\n    }\n  }\n}\n\nfunction getIndexByKey (keys, key) {\n  for (let index = 0; index < keys.length; index++) {\n    if (keys[index] === key) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nfunction getComponentName (opts) {\n  return opts && (opts.Ctor.options.name || opts.tag);\n}\n\n/**\n * 是否匹配\n * @param {*} pattern\n * @param {String} name 组件名称\n */\nfunction matches (pattern, name) {\n  if (Array.isArray(pattern)) {\n    return pattern.indexOf(name) > -1;\n  }\n  else if (typeof pattern === 'string') {\n    return pattern.split(',').indexOf(name) > -1;\n  }\n  else if (isRegExp(pattern)) {\n    return pattern.test(name);\n  }\n  return false;\n}\n\nfunction pruneCache (keepAliveInstance, filter) {\n  const { cache, keys } = keepAliveInstance;\n  for (const key in cache) {\n    const cachedNode = cache[key];\n    if (cachedNode) {\n      const name = getComponentName(cachedNode.componentOptions);\n      if (!filter(name)) {\n        pruneCacheEntry(cache, key, keys);\n      }\n    }\n  }\n}\n\nfunction pruneCacheEntry (cache, key, keys) {\n  if (!key) return;\n  const cached = cache[key];\n  if (cached && cached.componentInstance) {\n    cached.componentInstance.$destroy();\n  }\n  cache[key] = null;\n  delete cache[key];\n  remove(keys, key);\n}\n\nconst patternTypes = [String, RegExp, Array];\n\nlet VuePageNavigation = keyName => {\n  return {\n    name: config.componentName,\n\n    abstract: true,\n\n    props: {\n      include: patternTypes,\n\n      exclude: patternTypes,\n\n      max: {\n        type: [String, Number],\n        default: 50\n      }\n    },\n\n    created () {\n      this.cache = Object.create(null);\n      this.keys = [];\n    },\n\n    destroyed () {\n      for (let key in this.cache) {\n        pruneCacheEntry(this.cache, key, this.keys);\n      }\n    },\n\n    mounted () {\n      this.$watch('include', (val) => {\n        pruneCache(this, (name) => matches(val, name));\n      });\n      this.$watch('exclude', (val) => {\n        pruneCache(this, (name) => !matches(val, name));\n      });\n    },\n\n    render () {\n      let key = this.$route.query[keyName];\n      const slot = this.$slots.default;\n      const vnode = getFirstComponentChild(slot);\n      const componentOptions = vnode && vnode.componentOptions;\n\n      if (componentOptions) {\n        const name = getComponentName(componentOptions);\n        const { include, exclude, cache, keys } = this;\n\n        // 如果匹配到不包含或者组件名称未提供，则直接返回vnode\n        if (!name || (exclude && matches(exclude, name))) {\n          if (package_history.action === config.replaceName && keys.length) {\n            pruneCacheEntry(cache, keys[keys.length - 1], keys);\n          }\n\n          cache[key] = {};\n          keys.push(key);\n          return vnode;\n        }\n        else {\n          // 从缓存中匹配name，include的始终缓存\n          if (include && name && matches(include, name)) {\n            for (let cacheKey in cache) {\n              let _name = getComponentName(cache[cacheKey].componentOptions);\n              // 如果组件名称一致，那么替换缓存中的key\n              if (_name === name && key !== cacheKey) {\n                cache[key] = cache[cacheKey];\n                splice(keys, cacheKey, key);\n                delete cache[cacheKey];\n                break;\n              }\n            }\n          }\n\n          if (cache[key]) {\n            let index = getIndexByKey(keys, key);\n            vnode.componentInstance = cache[key].componentInstance;\n            // 删除当前key的索引之后的缓存\n            for (let i = keys.length - 1; i > index; i--) {\n              let _name = getComponentName(cache[keys[i]].componentOptions);\n              if (!matches(include, _name)) {\n                pruneCacheEntry(cache, keys[i], keys);\n              }\n            }\n          }\n          else {\n            if (package_history.action === config.replaceName && keys.length) {\n              let _curKey = keys[keys.length - 1],\n                _name = getComponentName(cache[_curKey].componentOptions);\n              // replace：如果组件没变，仅替换缓存中的key\n              if (_name === name && key !== _curKey) {\n                cache[key] = cache[_curKey];\n                splice(keys, _curKey, key);\n                delete cache[_curKey];\n              }\n              else {\n                pruneCacheEntry(cache, keys[keys.length - 1], keys);\n                cache[key] = vnode;\n                keys.push(key);\n              }\n            }\n            else {\n              cache[key] = vnode;\n              keys.push(key);\n            }\n\n            // LRU：超出最大缓存数量，删除第一个\n            if (this.max && keys.length > parseInt(this.max)) {\n              pruneCacheEntry(cache, keys[0], keys);\n            }\n\n            // 删除多余缓存，例如：push:::A->B->C->B->C，那么当跳转到第二个B时，第一个B还在缓存状态\n            for (let cacheKey in cache) {\n              let _name = getComponentName(cache[cacheKey].componentOptions);\n              // 如果组件名称一致，那么替换缓存中的key\n              if (_name === name && key !== cacheKey) {\n                pruneCacheEntry(cache, cacheKey, keys);\n                break;\n              }\n            }\n          }\n        }\n\n        vnode.data.keepAlive = true;\n      }\n\n      return vnode;\n    }\n  };\n};\n\n/* harmony default export */ var vue_page_navigation = (VuePageNavigation);\n\n// CONCATENATED MODULE: ./package/mixin.js\n/* 拦截路由跳转指令：重写 */\n\n\n\n/* harmony default export */ var mixin = (function (router) {\n  const routerPush = router.push.bind(router);\n  const routerGo = router.go.bind(router);\n  const routerReplace = router.replace.bind(router);\n  const routerBack = router.back.bind(router);\n  const routerForward = router.forward.bind(router);\n\n  router.push = (location, onResolve, onReject) => {\n    package_history.action = config.pushName;\n    package_history.routerDirection = 'forward';\n\n    if (onResolve || onReject) {\n      return routerPush(location, onResolve, onReject);\n    }\n    return routerPush(location).catch(error => error);\n  };\n\n  router.go = n => {\n    package_history.action = config.goName;\n    package_history.routerDirection = n > 0 ? 'forward' : 'backward';\n\n    routerGo(n);\n  };\n\n  router.replace = (location, onResolve, onReject) => {\n    package_history.action = config.replaceName;\n    package_history.routerDirection = 'forward';\n\n    if (onResolve || onReject) {\n      return routerReplace(location, onResolve, onReject);\n    }\n    return routerReplace(location).catch(error => error);\n  };\n\n  router.back = () => {\n    package_history.action = config.backName;\n    package_history.routerDirection = 'backward';\n\n    routerBack();\n  };\n\n  router.forward = () => {\n    package_history.action = config.forwardName;\n    package_history.routerDirection = 'forward';\n\n    routerForward();\n  };\n});;\n\n// CONCATENATED MODULE: ./package/index.js\n\n\n\n\n\n\nconst VuePageNavigationPlugin = {\n  install (Vue, { router, name = config.componentName, keyName = config.keyName }) {\n    if (!router) {\n      throw Error('\\n vue-router is necessary. \\n\\n');\n    }\n    Vue.component(name, vue_page_navigation(keyName));\n\n    mixin(router);\n\n    function beforeEach (to, from, next) {\n      if (!hasKey(to.query, keyName)) {\n        to.query[keyName] = genKey();\n        let replace = package_history.action === config.replaceName || !hasKey(from.query, keyName);\n        next({\n          hash: to.hash,\n          path: to.path,\n          name: to.name,\n          params: to.params,\n          query: to.query,\n          meta: to.meta,\n          replace: replace\n        });\n      }\n      else {\n        to.params[keyName + 'Direction'] = package_history.routerDirection;\n        next({ params: to.params });\n      }\n    }\n\n    // 确保它是第一个router拦截：beforeEach\n    router.beforeHooks.unshift(beforeEach);\n  }\n};\n\n/* harmony default export */ var package_0 = (VuePageNavigationPlugin);\n\n// CONCATENATED MODULE: ./node_modules/@vue/cli-service/lib/commands/build/entry-lib.js\n\n\n/* harmony default export */ var entry_lib = __webpack_exports__[\"default\"] = (package_0);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92dWUtcGFnZS1uYXZpZ2F0aW9uLy4vbm9kZV9tb2R1bGVzL0B2dWUvY2xpLXNlcnZpY2UvbGliL2NvbW1hbmRzL2J1aWxkL3NldFB1YmxpY1BhdGguanM/MWViMiIsIndlYnBhY2s6Ly92dWUtcGFnZS1uYXZpZ2F0aW9uLy4vcGFja2FnZS9jb25maWcuanM/YTQ3MCIsIndlYnBhY2s6Ly92dWUtcGFnZS1uYXZpZ2F0aW9uLy4vcGFja2FnZS9oaXN0b3J5LmpzPzNiZWIiLCJ3ZWJwYWNrOi8vdnVlLXBhZ2UtbmF2aWdhdGlvbi8uL3BhY2thZ2UvdXRpbC5qcz85ZmQ4Iiwid2VicGFjazovL3Z1ZS1wYWdlLW5hdmlnYXRpb24vLi9wYWNrYWdlL3Z1ZS1wYWdlLW5hdmlnYXRpb24uanM/MDA2ZSIsIndlYnBhY2s6Ly92dWUtcGFnZS1uYXZpZ2F0aW9uLy4vcGFja2FnZS9taXhpbi5qcz8xZGMyIiwid2VicGFjazovL3Z1ZS1wYWdlLW5hdmlnYXRpb24vLi9wYWNrYWdlL2luZGV4LmpzPzhkMWEiLCJ3ZWJwYWNrOi8vdnVlLXBhZ2UtbmF2aWdhdGlvbi8uL25vZGVfbW9kdWxlcy9AdnVlL2NsaS1zZXJ2aWNlL2xpYi9jb21tYW5kcy9idWlsZC9lbnRyeS1saWIuanM/ZmIxNSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUE7O0FBRUE7QUFDQTtBQUNBLE1BQU0sSUFBdUM7QUFDN0MsMkJBQTJCLG1CQUFPLENBQUMsTUFBMEI7QUFDN0Q7O0FBRUE7QUFDQTtBQUNBLHdEQUF3RCx3QkFBd0I7QUFDaEY7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSSxxQkFBdUI7QUFDM0I7QUFDQTs7QUFFQTtBQUNlLHNEQUFJOzs7O0FDcEJKO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDOzs7QUNYNEI7O0FBRWY7QUFDZixVQUFVLE1BQU07QUFDaEI7QUFDQTtBQUNBLENBQUMsRUFBQzs7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QTs7QUFFQTtBQUNBLElBQUksZUFBTyxVQUFVLE1BQU07QUFDM0IsSUFBSSxlQUFPOztBQUVYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJLGVBQU8sVUFBVSxNQUFNO0FBQzNCLElBQUksZUFBTzs7QUFFWDtBQUNBOztBQUVBO0FBQ0EsSUFBSSxlQUFPLFVBQVUsTUFBTTtBQUMzQixJQUFJLGVBQU87O0FBRVg7QUFDQTtBQUNBLENBQUM7OztBQ25EcUQ7QUFDMUI7QUFDSTtBQUNGO0FBQ1U7O0FBRXhDO0FBQ0EsaUJBQWlCLGdCQUFnQixNQUFNLDBCQUEwQixNQUFNLFVBQVU7QUFDakY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG1CQUFpQjs7QUFFekMsSUFBSSxLQUFLOztBQUVUO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLDRCQUE0QixNQUFNO0FBQ2xDLHNCQUFzQixlQUFPLFlBQVksTUFBTSxpQkFBaUIsTUFBTTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSwyQ0FBMkMsZUFBTztBQUNsRCxjQUFjLG9CQUFvQjtBQUNsQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVlLHFFQUF1QixFQUFDOzs7QUN4Q2Y7QUFDQTtBQUNULHdGQUFHO0FBQ0kiLCJmaWxlIjoiZmIxNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFRoaXMgZmlsZSBpcyBpbXBvcnRlZCBpbnRvIGxpYi93YyBjbGllbnQgYnVuZGxlcy5cblxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIHZhciBjdXJyZW50U2NyaXB0ID0gd2luZG93LmRvY3VtZW50LmN1cnJlbnRTY3JpcHRcbiAgaWYgKHByb2Nlc3MuZW52Lk5FRURfQ1VSUkVOVFNDUklQVF9QT0xZRklMTCkge1xuICAgIHZhciBnZXRDdXJyZW50U2NyaXB0ID0gcmVxdWlyZSgnQHNvZGEvZ2V0LWN1cnJlbnQtc2NyaXB0JylcbiAgICBjdXJyZW50U2NyaXB0ID0gZ2V0Q3VycmVudFNjcmlwdCgpXG5cbiAgICAvLyBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSwgYmVjYXVzZSBwcmV2aW91c2x5IHdlIGRpcmVjdGx5IGluY2x1ZGVkIHRoZSBwb2x5ZmlsbFxuICAgIGlmICghKCdjdXJyZW50U2NyaXB0JyBpbiBkb2N1bWVudCkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkb2N1bWVudCwgJ2N1cnJlbnRTY3JpcHQnLCB7IGdldDogZ2V0Q3VycmVudFNjcmlwdCB9KVxuICAgIH1cbiAgfVxuXG4gIHZhciBzcmMgPSBjdXJyZW50U2NyaXB0ICYmIGN1cnJlbnRTY3JpcHQuc3JjLm1hdGNoKC8oLitcXC8pW14vXStcXC5qcyhcXD8uKik/JC8pXG4gIGlmIChzcmMpIHtcbiAgICBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyA9IHNyY1sxXSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIH1cbn1cblxuLy8gSW5kaWNhdGUgdG8gd2VicGFjayB0aGF0IHRoaXMgZmlsZSBjYW4gYmUgY29uY2F0ZW5hdGVkXG5leHBvcnQgZGVmYXVsdCBudWxsXG4iLCJcbmV4cG9ydCBkZWZhdWx0IHtcbiAgLy8g57uE5Lu25ZCN56ewXG4gIGNvbXBvbmVudE5hbWU6ICdWdWVQYWdlTmF2aWdhdGlvbicsXG4gIC8vIOi3r+W+hOWPguaVsGtleVxuICBrZXlOYW1lOiAnUE5LJyxcbiAgcHVzaE5hbWU6ICdwdXNoJyxcbiAgZ29OYW1lOiAnZ28nLFxuICByZXBsYWNlTmFtZTogJ3JlcGxhY2UnLFxuICBiYWNrTmFtZTogJ2JhY2snLFxuICBmb3J3YXJkTmFtZTogJ2ZvcndhcmQnXG59O1xuIiwiaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgYWN0aW9uOiBjb25maWcucHVzaE5hbWUsXG4gIC8vIOi3r+eUsei3s+i9rOaWueWQke+8mmZvcndhcmQgfHwgYmFja3dhcmQsXG4gIHJvdXRlckRpcmVjdGlvbjogJ2ZvcndhcmQnXG59O1xuIiwiXG4vKipcbiAqIEdldCB0aGUgcmF3IHR5cGUgc3RyaW5nIG9mIGEgdmFsdWUsIGUuZy4sIFtvYmplY3QgT2JqZWN0XS5cbiAqL1xuY29uc3QgX3RvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhaW5PYmplY3QgKG9iaikge1xuICByZXR1cm4gX3RvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1JlZ0V4cCAodikge1xuICByZXR1cm4gX3RvU3RyaW5nLmNhbGwodikgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNEZWYgKHYpIHtcbiAgcmV0dXJuIHYgIT09IHVuZGVmaW5lZCAmJiB2ICE9PSBudWxsO1xufVxuXG4vKipcbiAqIOS7juaVsOe7hOS4reenu+mZpOS4gOS4quWFg+e0oFxuICogQHBhcmFtIHtBcnJheX0gYXJyXG4gKiBAcGFyYW0ge0FueX0gaXRlbSDopoHliKDpmaTnmoTlhYPntKBcbiAqIEByZXR1cm5zIHtBbnl9IOenu+mZpOeahOWFg+e0oFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlIChhcnIsIGl0ZW0pIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSAmJiBhcnIubGVuZ3RoKSB7XG4gICAgY29uc3QgaW5kZXggPSBhcnIuaW5kZXhPZihpdGVtKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgcmV0dXJuIGFyci5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIOS7juaVsOe7hOS4reenu+mZpOS4gOS4quWFg+e0oO+8jOW5tuS7peaWsOWFg+e0oOabv+aNolxuICogQHBhcmFtIHtBcnJheX0gYXJyXG4gKiBAcGFyYW0ge0FueX0gb2xkSXRlbSDopoHliKDpmaTnmoTlhYPntKBcbiAqIEBwYXJhbSB7QW55fSBuZXdJdGVtIOa3u+WKoOWIsOWIoOmZpOS9jee9rueahOaWsOWFg+e0oFxuICogQHJldHVybnMge0FueX0g56e76Zmk55qE5YWD57SgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcGxpY2UgKGFyciwgb2xkSXRlbSwgbmV3SXRlbSkge1xuICBpZiAoQXJyYXkuaXNBcnJheShhcnIpICYmIGFyci5sZW5ndGgpIHtcbiAgICBjb25zdCBpbmRleCA9IGFyci5pbmRleE9mKG9sZEl0ZW0pO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICByZXR1cm4gYXJyLnNwbGljZShpbmRleCwgMSwgbmV3SXRlbSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICog55Sf5oiQa2V5XG4gKiBAcGFyYW0ge1N0cmluZ30gdHBsIOeUn+aIkOaooeeJiC0teHnnu4TmiJBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbktleSAodHBsID0gJ3h4eHh4eHh4Jykge1xuICByZXR1cm4gdHBsLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICBsZXQgciA9IChNYXRoLnJhbmRvbSgpICogMTYpIHwgMDtcbiAgICBsZXQgdiA9IGMgPT09ICd4JyA/IHIgOiAociAmIDB4MykgfCAweDg7XG4gICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICB9KTtcbn1cblxuLyoqXG4gKiDlr7nosaHkuK3mmK/lkKbmnIlrZXlcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmog57qv5a+56LGhXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5TmFtZSBrZXnlkI3np7BcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc0tleSAob2JqLCBrZXlOYW1lKSB7XG4gIHJldHVybiAhIW9ialtrZXlOYW1lXTtcbn1cbiIsImltcG9ydCBoaXN0b3J5IGZyb20gJy4vaGlzdG9yeSc7XG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IGlzRGVmLCByZW1vdmUsIGlzUmVnRXhwLCBzcGxpY2UgfSBmcm9tICcuL3V0aWwnO1xuXG4vLyDlj4LogIN2dWUga2VlcEFsaXZl57uE5Lu25YaZ5rOVXG5mdW5jdGlvbiBpc0FzeW5jUGxhY2Vob2xkZXIgKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUuaXNDb21tZW50ICYmIG5vZGUuYXN5bmNGYWN0b3J5O1xufVxuLy8g5Y+C6ICDdnVlIGtlZXBBbGl2Zee7hOS7tuWGmeazlVxuZnVuY3Rpb24gZ2V0Rmlyc3RDb21wb25lbnRDaGlsZCAoY2hpbGRyZW4pIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYyA9IGNoaWxkcmVuW2ldO1xuICAgICAgaWYgKGlzRGVmKGMpICYmIChpc0RlZihjLmNvbXBvbmVudE9wdGlvbnMpIHx8IGlzQXN5bmNQbGFjZWhvbGRlcihjKSkpIHtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlLZXkgKGtleXMsIGtleSkge1xuICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwga2V5cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBpZiAoa2V5c1tpbmRleF0gPT09IGtleSkge1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWUgKG9wdHMpIHtcbiAgcmV0dXJuIG9wdHMgJiYgKG9wdHMuQ3Rvci5vcHRpb25zLm5hbWUgfHwgb3B0cy50YWcpO1xufVxuXG4vKipcbiAqIOaYr+WQpuWMuemFjVxuICogQHBhcmFtIHsqfSBwYXR0ZXJuXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZSDnu4Tku7blkI3np7BcbiAqL1xuZnVuY3Rpb24gbWF0Y2hlcyAocGF0dGVybiwgbmFtZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheShwYXR0ZXJuKSkge1xuICAgIHJldHVybiBwYXR0ZXJuLmluZGV4T2YobmFtZSkgPiAtMTtcbiAgfVxuICBlbHNlIGlmICh0eXBlb2YgcGF0dGVybiA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gcGF0dGVybi5zcGxpdCgnLCcpLmluZGV4T2YobmFtZSkgPiAtMTtcbiAgfVxuICBlbHNlIGlmIChpc1JlZ0V4cChwYXR0ZXJuKSkge1xuICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobmFtZSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBwcnVuZUNhY2hlIChrZWVwQWxpdmVJbnN0YW5jZSwgZmlsdGVyKSB7XG4gIGNvbnN0IHsgY2FjaGUsIGtleXMgfSA9IGtlZXBBbGl2ZUluc3RhbmNlO1xuICBmb3IgKGNvbnN0IGtleSBpbiBjYWNoZSkge1xuICAgIGNvbnN0IGNhY2hlZE5vZGUgPSBjYWNoZVtrZXldO1xuICAgIGlmIChjYWNoZWROb2RlKSB7XG4gICAgICBjb25zdCBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShjYWNoZWROb2RlLmNvbXBvbmVudE9wdGlvbnMpO1xuICAgICAgaWYgKCFmaWx0ZXIobmFtZSkpIHtcbiAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KGNhY2hlLCBrZXksIGtleXMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBwcnVuZUNhY2hlRW50cnkgKGNhY2hlLCBrZXksIGtleXMpIHtcbiAgaWYgKCFrZXkpIHJldHVybjtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGVba2V5XTtcbiAgaWYgKGNhY2hlZCAmJiBjYWNoZWQuY29tcG9uZW50SW5zdGFuY2UpIHtcbiAgICBjYWNoZWQuY29tcG9uZW50SW5zdGFuY2UuJGRlc3Ryb3koKTtcbiAgfVxuICBjYWNoZVtrZXldID0gbnVsbDtcbiAgZGVsZXRlIGNhY2hlW2tleV07XG4gIHJlbW92ZShrZXlzLCBrZXkpO1xufVxuXG5jb25zdCBwYXR0ZXJuVHlwZXMgPSBbU3RyaW5nLCBSZWdFeHAsIEFycmF5XTtcblxubGV0IFZ1ZVBhZ2VOYXZpZ2F0aW9uID0ga2V5TmFtZSA9PiB7XG4gIHJldHVybiB7XG4gICAgbmFtZTogY29uZmlnLmNvbXBvbmVudE5hbWUsXG5cbiAgICBhYnN0cmFjdDogdHJ1ZSxcblxuICAgIHByb3BzOiB7XG4gICAgICBpbmNsdWRlOiBwYXR0ZXJuVHlwZXMsXG5cbiAgICAgIGV4Y2x1ZGU6IHBhdHRlcm5UeXBlcyxcblxuICAgICAgbWF4OiB7XG4gICAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sXG4gICAgICAgIGRlZmF1bHQ6IDUwXG4gICAgICB9XG4gICAgfSxcblxuICAgIGNyZWF0ZWQgKCkge1xuICAgICAgdGhpcy5jYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICB0aGlzLmtleXMgPSBbXTtcbiAgICB9LFxuXG4gICAgZGVzdHJveWVkICgpIHtcbiAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLmNhY2hlKSB7XG4gICAgICAgIHBydW5lQ2FjaGVFbnRyeSh0aGlzLmNhY2hlLCBrZXksIHRoaXMua2V5cyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIG1vdW50ZWQgKCkge1xuICAgICAgdGhpcy4kd2F0Y2goJ2luY2x1ZGUnLCAodmFsKSA9PiB7XG4gICAgICAgIHBydW5lQ2FjaGUodGhpcywgKG5hbWUpID0+IG1hdGNoZXModmFsLCBuYW1lKSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuJHdhdGNoKCdleGNsdWRlJywgKHZhbCkgPT4ge1xuICAgICAgICBwcnVuZUNhY2hlKHRoaXMsIChuYW1lKSA9PiAhbWF0Y2hlcyh2YWwsIG5hbWUpKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICByZW5kZXIgKCkge1xuICAgICAgbGV0IGtleSA9IHRoaXMuJHJvdXRlLnF1ZXJ5W2tleU5hbWVdO1xuICAgICAgY29uc3Qgc2xvdCA9IHRoaXMuJHNsb3RzLmRlZmF1bHQ7XG4gICAgICBjb25zdCB2bm9kZSA9IGdldEZpcnN0Q29tcG9uZW50Q2hpbGQoc2xvdCk7XG4gICAgICBjb25zdCBjb21wb25lbnRPcHRpb25zID0gdm5vZGUgJiYgdm5vZGUuY29tcG9uZW50T3B0aW9ucztcblxuICAgICAgaWYgKGNvbXBvbmVudE9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IGdldENvbXBvbmVudE5hbWUoY29tcG9uZW50T3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHsgaW5jbHVkZSwgZXhjbHVkZSwgY2FjaGUsIGtleXMgfSA9IHRoaXM7XG5cbiAgICAgICAgLy8g5aaC5p6c5Yy56YWN5Yiw5LiN5YyF5ZCr5oiW6ICF57uE5Lu25ZCN56ew5pyq5o+Q5L6b77yM5YiZ55u05o6l6L+U5Zuedm5vZGVcbiAgICAgICAgaWYgKCFuYW1lIHx8IChleGNsdWRlICYmIG1hdGNoZXMoZXhjbHVkZSwgbmFtZSkpKSB7XG4gICAgICAgICAgaWYgKGhpc3RvcnkuYWN0aW9uID09PSBjb25maWcucmVwbGFjZU5hbWUgJiYga2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShjYWNoZSwga2V5c1trZXlzLmxlbmd0aCAtIDFdLCBrZXlzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjYWNoZVtrZXldID0ge307XG4gICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgcmV0dXJuIHZub2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIOS7jue8k+WtmOS4reWMuemFjW5hbWXvvIxpbmNsdWRl55qE5aeL57uI57yT5a2YXG4gICAgICAgICAgaWYgKGluY2x1ZGUgJiYgbmFtZSAmJiBtYXRjaGVzKGluY2x1ZGUsIG5hbWUpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjYWNoZUtleSBpbiBjYWNoZSkge1xuICAgICAgICAgICAgICBsZXQgX25hbWUgPSBnZXRDb21wb25lbnROYW1lKGNhY2hlW2NhY2hlS2V5XS5jb21wb25lbnRPcHRpb25zKTtcbiAgICAgICAgICAgICAgLy8g5aaC5p6c57uE5Lu25ZCN56ew5LiA6Ie077yM6YKj5LmI5pu/5o2i57yT5a2Y5Lit55qEa2V5XG4gICAgICAgICAgICAgIGlmIChfbmFtZSA9PT0gbmFtZSAmJiBrZXkgIT09IGNhY2hlS2V5KSB7XG4gICAgICAgICAgICAgICAgY2FjaGVba2V5XSA9IGNhY2hlW2NhY2hlS2V5XTtcbiAgICAgICAgICAgICAgICBzcGxpY2Uoa2V5cywgY2FjaGVLZXksIGtleSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGNhY2hlW2NhY2hlS2V5XTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjYWNoZVtrZXldKSB7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSBnZXRJbmRleEJ5S2V5KGtleXMsIGtleSk7XG4gICAgICAgICAgICB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSA9IGNhY2hlW2tleV0uY29tcG9uZW50SW5zdGFuY2U7XG4gICAgICAgICAgICAvLyDliKDpmaTlvZPliY1rZXnnmoTntKLlvJXkuYvlkI7nmoTnvJPlrZhcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBrZXlzLmxlbmd0aCAtIDE7IGkgPiBpbmRleDsgaS0tKSB7XG4gICAgICAgICAgICAgIGxldCBfbmFtZSA9IGdldENvbXBvbmVudE5hbWUoY2FjaGVba2V5c1tpXV0uY29tcG9uZW50T3B0aW9ucyk7XG4gICAgICAgICAgICAgIGlmICghbWF0Y2hlcyhpbmNsdWRlLCBfbmFtZSkpIHtcbiAgICAgICAgICAgICAgICBwcnVuZUNhY2hlRW50cnkoY2FjaGUsIGtleXNbaV0sIGtleXMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGhpc3RvcnkuYWN0aW9uID09PSBjb25maWcucmVwbGFjZU5hbWUgJiYga2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgbGV0IF9jdXJLZXkgPSBrZXlzW2tleXMubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICAgICAgX25hbWUgPSBnZXRDb21wb25lbnROYW1lKGNhY2hlW19jdXJLZXldLmNvbXBvbmVudE9wdGlvbnMpO1xuICAgICAgICAgICAgICAvLyByZXBsYWNl77ya5aaC5p6c57uE5Lu25rKh5Y+Y77yM5LuF5pu/5o2i57yT5a2Y5Lit55qEa2V5XG4gICAgICAgICAgICAgIGlmIChfbmFtZSA9PT0gbmFtZSAmJiBrZXkgIT09IF9jdXJLZXkpIHtcbiAgICAgICAgICAgICAgICBjYWNoZVtrZXldID0gY2FjaGVbX2N1cktleV07XG4gICAgICAgICAgICAgICAgc3BsaWNlKGtleXMsIF9jdXJLZXksIGtleSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGNhY2hlW19jdXJLZXldO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShjYWNoZSwga2V5c1trZXlzLmxlbmd0aCAtIDFdLCBrZXlzKTtcbiAgICAgICAgICAgICAgICBjYWNoZVtrZXldID0gdm5vZGU7XG4gICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBjYWNoZVtrZXldID0gdm5vZGU7XG4gICAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBMUlXvvJrotoXlh7rmnIDlpKfnvJPlrZjmlbDph4/vvIzliKDpmaTnrKzkuIDkuKpcbiAgICAgICAgICAgIGlmICh0aGlzLm1heCAmJiBrZXlzLmxlbmd0aCA+IHBhcnNlSW50KHRoaXMubWF4KSkge1xuICAgICAgICAgICAgICBwcnVuZUNhY2hlRW50cnkoY2FjaGUsIGtleXNbMF0sIGtleXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyDliKDpmaTlpJrkvZnnvJPlrZjvvIzkvovlpoLvvJpwdXNoOjo6QS0+Qi0+Qy0+Qi0+Q++8jOmCo+S5iOW9k+i3s+i9rOWIsOesrOS6jOS4qkLml7bvvIznrKzkuIDkuKpC6L+Y5Zyo57yT5a2Y54q25oCBXG4gICAgICAgICAgICBmb3IgKGxldCBjYWNoZUtleSBpbiBjYWNoZSkge1xuICAgICAgICAgICAgICBsZXQgX25hbWUgPSBnZXRDb21wb25lbnROYW1lKGNhY2hlW2NhY2hlS2V5XS5jb21wb25lbnRPcHRpb25zKTtcbiAgICAgICAgICAgICAgLy8g5aaC5p6c57uE5Lu25ZCN56ew5LiA6Ie077yM6YKj5LmI5pu/5o2i57yT5a2Y5Lit55qEa2V5XG4gICAgICAgICAgICAgIGlmIChfbmFtZSA9PT0gbmFtZSAmJiBrZXkgIT09IGNhY2hlS2V5KSB7XG4gICAgICAgICAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KGNhY2hlLCBjYWNoZUtleSwga2V5cyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2bm9kZS5kYXRhLmtlZXBBbGl2ZSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2bm9kZTtcbiAgICB9XG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBWdWVQYWdlTmF2aWdhdGlvbjtcbiIsIi8qIOaLpuaIqui3r+eUsei3s+i9rOaMh+S7pO+8mumHjeWGmSAqL1xuaW1wb3J0IGhpc3RvcnkgZnJvbSAnLi9oaXN0b3J5JztcbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAocm91dGVyKSB7XG4gIGNvbnN0IHJvdXRlclB1c2ggPSByb3V0ZXIucHVzaC5iaW5kKHJvdXRlcik7XG4gIGNvbnN0IHJvdXRlckdvID0gcm91dGVyLmdvLmJpbmQocm91dGVyKTtcbiAgY29uc3Qgcm91dGVyUmVwbGFjZSA9IHJvdXRlci5yZXBsYWNlLmJpbmQocm91dGVyKTtcbiAgY29uc3Qgcm91dGVyQmFjayA9IHJvdXRlci5iYWNrLmJpbmQocm91dGVyKTtcbiAgY29uc3Qgcm91dGVyRm9yd2FyZCA9IHJvdXRlci5mb3J3YXJkLmJpbmQocm91dGVyKTtcblxuICByb3V0ZXIucHVzaCA9IChsb2NhdGlvbiwgb25SZXNvbHZlLCBvblJlamVjdCkgPT4ge1xuICAgIGhpc3RvcnkuYWN0aW9uID0gY29uZmlnLnB1c2hOYW1lO1xuICAgIGhpc3Rvcnkucm91dGVyRGlyZWN0aW9uID0gJ2ZvcndhcmQnO1xuXG4gICAgaWYgKG9uUmVzb2x2ZSB8fCBvblJlamVjdCkge1xuICAgICAgcmV0dXJuIHJvdXRlclB1c2gobG9jYXRpb24sIG9uUmVzb2x2ZSwgb25SZWplY3QpO1xuICAgIH1cbiAgICByZXR1cm4gcm91dGVyUHVzaChsb2NhdGlvbikuY2F0Y2goZXJyb3IgPT4gZXJyb3IpO1xuICB9O1xuXG4gIHJvdXRlci5nbyA9IG4gPT4ge1xuICAgIGhpc3RvcnkuYWN0aW9uID0gY29uZmlnLmdvTmFtZTtcbiAgICBoaXN0b3J5LnJvdXRlckRpcmVjdGlvbiA9IG4gPiAwID8gJ2ZvcndhcmQnIDogJ2JhY2t3YXJkJztcblxuICAgIHJvdXRlckdvKG4pO1xuICB9O1xuXG4gIHJvdXRlci5yZXBsYWNlID0gKGxvY2F0aW9uLCBvblJlc29sdmUsIG9uUmVqZWN0KSA9PiB7XG4gICAgaGlzdG9yeS5hY3Rpb24gPSBjb25maWcucmVwbGFjZU5hbWU7XG4gICAgaGlzdG9yeS5yb3V0ZXJEaXJlY3Rpb24gPSAnZm9yd2FyZCc7XG5cbiAgICBpZiAob25SZXNvbHZlIHx8IG9uUmVqZWN0KSB7XG4gICAgICByZXR1cm4gcm91dGVyUmVwbGFjZShsb2NhdGlvbiwgb25SZXNvbHZlLCBvblJlamVjdCk7XG4gICAgfVxuICAgIHJldHVybiByb3V0ZXJSZXBsYWNlKGxvY2F0aW9uKS5jYXRjaChlcnJvciA9PiBlcnJvcik7XG4gIH07XG5cbiAgcm91dGVyLmJhY2sgPSAoKSA9PiB7XG4gICAgaGlzdG9yeS5hY3Rpb24gPSBjb25maWcuYmFja05hbWU7XG4gICAgaGlzdG9yeS5yb3V0ZXJEaXJlY3Rpb24gPSAnYmFja3dhcmQnO1xuXG4gICAgcm91dGVyQmFjaygpO1xuICB9O1xuXG4gIHJvdXRlci5mb3J3YXJkID0gKCkgPT4ge1xuICAgIGhpc3RvcnkuYWN0aW9uID0gY29uZmlnLmZvcndhcmROYW1lO1xuICAgIGhpc3Rvcnkucm91dGVyRGlyZWN0aW9uID0gJ2ZvcndhcmQnO1xuXG4gICAgcm91dGVyRm9yd2FyZCgpO1xuICB9O1xufTtcbiIsImltcG9ydCBWdWVQYWdlTmF2aWdhdGlvbiBmcm9tICcuL3Z1ZS1wYWdlLW5hdmlnYXRpb24nO1xuaW1wb3J0IG1peGluIGZyb20gJy4vbWl4aW4nO1xuaW1wb3J0IGhpc3RvcnkgZnJvbSAnLi9oaXN0b3J5JztcbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgZ2VuS2V5LCBoYXNLZXkgfSBmcm9tICcuL3V0aWwnO1xuXG5jb25zdCBWdWVQYWdlTmF2aWdhdGlvblBsdWdpbiA9IHtcbiAgaW5zdGFsbCAoVnVlLCB7IHJvdXRlciwgbmFtZSA9IGNvbmZpZy5jb21wb25lbnROYW1lLCBrZXlOYW1lID0gY29uZmlnLmtleU5hbWUgfSkge1xuICAgIGlmICghcm91dGVyKSB7XG4gICAgICB0aHJvdyBFcnJvcignXFxuIHZ1ZS1yb3V0ZXIgaXMgbmVjZXNzYXJ5LiBcXG5cXG4nKTtcbiAgICB9XG4gICAgVnVlLmNvbXBvbmVudChuYW1lLCBWdWVQYWdlTmF2aWdhdGlvbihrZXlOYW1lKSk7XG5cbiAgICBtaXhpbihyb3V0ZXIpO1xuXG4gICAgZnVuY3Rpb24gYmVmb3JlRWFjaCAodG8sIGZyb20sIG5leHQpIHtcbiAgICAgIGlmICghaGFzS2V5KHRvLnF1ZXJ5LCBrZXlOYW1lKSkge1xuICAgICAgICB0by5xdWVyeVtrZXlOYW1lXSA9IGdlbktleSgpO1xuICAgICAgICBsZXQgcmVwbGFjZSA9IGhpc3RvcnkuYWN0aW9uID09PSBjb25maWcucmVwbGFjZU5hbWUgfHwgIWhhc0tleShmcm9tLnF1ZXJ5LCBrZXlOYW1lKTtcbiAgICAgICAgbmV4dCh7XG4gICAgICAgICAgaGFzaDogdG8uaGFzaCxcbiAgICAgICAgICBwYXRoOiB0by5wYXRoLFxuICAgICAgICAgIG5hbWU6IHRvLm5hbWUsXG4gICAgICAgICAgcGFyYW1zOiB0by5wYXJhbXMsXG4gICAgICAgICAgcXVlcnk6IHRvLnF1ZXJ5LFxuICAgICAgICAgIG1ldGE6IHRvLm1ldGEsXG4gICAgICAgICAgcmVwbGFjZTogcmVwbGFjZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0by5wYXJhbXNba2V5TmFtZSArICdEaXJlY3Rpb24nXSA9IGhpc3Rvcnkucm91dGVyRGlyZWN0aW9uO1xuICAgICAgICBuZXh0KHsgcGFyYW1zOiB0by5wYXJhbXMgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8g56Gu5L+d5a6D5piv56ys5LiA5Liqcm91dGVy5oum5oiq77yaYmVmb3JlRWFjaFxuICAgIHJvdXRlci5iZWZvcmVIb29rcy51bnNoaWZ0KGJlZm9yZUVhY2gpO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBWdWVQYWdlTmF2aWdhdGlvblBsdWdpbjtcbiIsImltcG9ydCAnLi9zZXRQdWJsaWNQYXRoJ1xuaW1wb3J0IG1vZCBmcm9tICd+ZW50cnknXG5leHBvcnQgZGVmYXVsdCBtb2RcbmV4cG9ydCAqIGZyb20gJ35lbnRyeSdcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///fb15\n");

/***/ })

/******/ });
});